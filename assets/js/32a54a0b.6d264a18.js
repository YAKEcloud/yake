"use strict";(self.webpackChunkwebsite=self.webpackChunkwebsite||[]).push([[3344],{3905:(e,t,a)=>{a.d(t,{Zo:()=>d,kt:()=>u});var r=a(67294);function n(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function i(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function l(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?i(Object(a),!0).forEach((function(t){n(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):i(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function o(e,t){if(null==e)return{};var a,r,n=function(e,t){if(null==e)return{};var a,r,n={},i=Object.keys(e);for(r=0;r<i.length;r++)a=i[r],t.indexOf(a)>=0||(n[a]=e[a]);return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)a=i[r],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(n[a]=e[a])}return n}var s=r.createContext({}),p=function(e){var t=r.useContext(s),a=t;return e&&(a="function"==typeof e?e(t):l(l({},t),e)),a},d=function(e){var t=p(e.components);return r.createElement(s.Provider,{value:t},e.children)},m="mdxType",h={inlineCode:"code",wrapper:function(e){var t=e.children;return r.createElement(r.Fragment,{},t)}},g=r.forwardRef((function(e,t){var a=e.components,n=e.mdxType,i=e.originalType,s=e.parentName,d=o(e,["components","mdxType","originalType","parentName"]),m=p(a),g=n,u=m["".concat(s,".").concat(g)]||m[g]||h[g]||i;return a?r.createElement(u,l(l({ref:t},d),{},{components:a})):r.createElement(u,l({ref:t},d))}));function u(e,t){var a=arguments,n=t&&t.mdxType;if("string"==typeof e||n){var i=a.length,l=new Array(i);l[0]=g;var o={};for(var s in t)hasOwnProperty.call(t,s)&&(o[s]=t[s]);o.originalType=e,o[m]="string"==typeof e?e:n,l[1]=o;for(var p=2;p<i;p++)l[p]=a[p];return r.createElement.apply(null,l)}return r.createElement.apply(null,a)}g.displayName="MDXCreateElement"},76209:(e,t,a)=>{a.r(t),a.d(t,{assets:()=>s,contentTitle:()=>l,default:()=>m,frontMatter:()=>i,metadata:()=>o,toc:()=>p});var r=a(87462),n=(a(67294),a(3905));const i={hide_table_of_contents:!0},l="Release Notes v1.70",o={unversionedId:"v1.70",id:"v1.70",title:"Release Notes v1.70",description:"23KE release notes and upgrade guide",source:"@site/release-notes/v1.70.md",sourceDirName:".",slug:"/v1.70",permalink:"/yake/release-notes/v1.70",draft:!1,tags:[],version:"current",frontMatter:{hide_table_of_contents:!0},sidebar:"tutorialSidebar",previous:{title:"Release Notes v1.71",permalink:"/yake/release-notes/v1.71"},next:{title:"Release Notes v1.69",permalink:"/yake/release-notes/v1.69"}},s={},p=[{value:"23KE release notes and upgrade guide",id:"23ke-release-notes-and-upgrade-guide",level:2},{value:"Related upstream release notes / changelogs",id:"related-upstream-release-notes--changelogs",level:2},{value:"\ud83d\udc1b Bug Fixes",id:"-bug-fixes",level:2},{value:"\ud83c\udfc3 Others",id:"-others",level:2},{value:"\u2728 New Features",id:"-new-features",level:2},{value:"\ud83c\udfc3 Others",id:"-others-1",level:2},{value:"\ud83c\udfc3 Others",id:"-others-2",level:2},{value:"\ud83c\udfc3 Others",id:"-others-3",level:2},{value:"\ud83c\udfc3 Others",id:"-others-4",level:2},{value:"\ud83c\udfc3 Others",id:"-others-5",level:2},{value:"\u26a0\ufe0f Breaking Changes",id:"\ufe0f-breaking-changes",level:2},{value:"\u2728 New Features",id:"-new-features-1",level:2},{value:"\ud83d\udc1b Bug Fixes",id:"-bug-fixes-1",level:2},{value:"\ud83d\udcd6 Documentation",id:"-documentation",level:2},{value:"\ud83c\udfc3 Others",id:"-others-6",level:2},{value:"\u2728 New Features",id:"-new-features-2",level:2},{value:"\ud83c\udfc3 Others",id:"-others-7",level:2},{value:"Docker Images",id:"docker-images",level:2},{value:"\u26a0\ufe0f Breaking Changes",id:"\ufe0f-breaking-changes-1",level:2},{value:"\u2728 New Features",id:"-new-features-3",level:2},{value:"\ud83d\udc1b Bug Fixes",id:"-bug-fixes-2",level:2},{value:"\ud83d\udcd6 Documentation",id:"-documentation-1",level:2},{value:"\ud83c\udfc3 Others",id:"-others-8",level:2},{value:"\u2728 New Features",id:"-new-features-4",level:2},{value:"\ud83c\udfc3 Others",id:"-others-9",level:2},{value:"Docker Images",id:"docker-images-1",level:2},{value:"\u26a0\ufe0f Breaking Changes",id:"\ufe0f-breaking-changes-2",level:2},{value:"\u2728 New Features",id:"-new-features-5",level:2},{value:"\ud83d\udc1b Bug Fixes",id:"-bug-fixes-3",level:2},{value:"\ud83d\udcd6 Documentation",id:"-documentation-2",level:2},{value:"\ud83c\udfc3 Others",id:"-others-10",level:2},{value:"\u2728 New Features",id:"-new-features-6",level:2},{value:"\ud83c\udfc3 Others",id:"-others-11",level:2},{value:"Docker Images",id:"docker-images-2",level:2},{value:"\u26a0\ufe0f Breaking Changes",id:"\ufe0f-breaking-changes-3",level:2},{value:"\ud83d\udc1b Bug Fixes",id:"-bug-fixes-4",level:2},{value:"\ud83c\udfc3 Others",id:"-others-12",level:2},{value:"\u2728 New Features",id:"-new-features-7",level:2},{value:"\ud83c\udfc3 Others",id:"-others-13",level:2}],d={toc:p};function m(e){let{components:t,...a}=e;return(0,n.kt)("wrapper",(0,r.Z)({},d,a,{components:t,mdxType:"MDXLayout"}),(0,n.kt)("h1",{id:"release-notes-v170"},"Release Notes v1.70"),(0,n.kt)("h2",{id:"23ke-release-notes-and-upgrade-guide"},"23KE release notes and upgrade guide"),(0,n.kt)("h2",{id:"related-upstream-release-notes--changelogs"},"Related upstream release notes / changelogs"),(0,n.kt)("details",null,(0,n.kt)("summary",null,(0,n.kt)("b",null,"Update provider-gcp to ",(0,n.kt)("code",null,"1.29.1"))),(0,n.kt)("h1",{id:"gardener-extension-provider-gcp"},"[gardener-extension-provider-gcp]"),(0,n.kt)("h2",{id:"-bug-fixes"},"\ud83d\udc1b Bug Fixes"),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("em",{parentName:"li"},"[DEPENDENCY]")," gcp-compute-persistent-disk-csi-driver to v1.9.4 (",(0,n.kt)("a",{parentName:"li",href:"https://github.com/gardener/gardener-extension-provider-gcp/pull/590"},"gardener/gardener-extension-provider-gcp#590"),", ",(0,n.kt)("a",{parentName:"li",href:"https://github.com/kon-angelo"},"@kon-angelo"),")"))),(0,n.kt)("details",null,(0,n.kt)("summary",null,(0,n.kt)("b",null,"Update cert-management to ",(0,n.kt)("code",null,"0.10.5"))),(0,n.kt)("h1",{id:"cert-management"},"[cert-management]"),(0,n.kt)("h2",{id:"-others"},"\ud83c\udfc3 Others"),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("em",{parentName:"li"},"[OPERATOR]")," Updated controller-manager-library dependency. (",(0,n.kt)("a",{parentName:"li",href:"https://github.com/gardener/cert-management/pull/127"},"gardener/cert-management#127"),", ",(0,n.kt)("a",{parentName:"li",href:"https://github.com/MartinWeindel"},"@MartinWeindel"),")"),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("em",{parentName:"li"},"[OPERATOR]")," Updated builder image from ",(0,n.kt)("inlineCode",{parentName:"li"},"golang:1.20.3")," to ",(0,n.kt)("inlineCode",{parentName:"li"},"golang:1.20.4")," (",(0,n.kt)("a",{parentName:"li",href:"https://github.com/gardener/cert-management/pull/127"},"gardener/cert-management#127"),", ",(0,n.kt)("a",{parentName:"li",href:"https://github.com/MartinWeindel"},"@MartinWeindel"),")"))),(0,n.kt)("details",null,(0,n.kt)("summary",null,(0,n.kt)("b",null,"Update external-dns-management to ",(0,n.kt)("code",null,"0.15.3"))),(0,n.kt)("h1",{id:"external-dns-management"},"[external-dns-management]"),(0,n.kt)("h2",{id:"-new-features"},"\u2728 New Features"),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("em",{parentName:"li"},"[USER]")," Added support for proxy for HTTP Transport for Openstack Designate Provider (",(0,n.kt)("a",{parentName:"li",href:"https://github.com/gardener/external-dns-management/pull/304"},"gardener/external-dns-management#304"),", ",(0,n.kt)("a",{parentName:"li",href:"https://github.com/sdputurn"},"@sdputurn"),")")),(0,n.kt)("h2",{id:"-others-1"},"\ud83c\udfc3 Others"),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("em",{parentName:"li"},"[OPERATOR]")," Updated controller-manager-library dependency. (",(0,n.kt)("a",{parentName:"li",href:"https://github.com/gardener/external-dns-management/pull/305"},"gardener/external-dns-management#305"),", ",(0,n.kt)("a",{parentName:"li",href:"https://github.com/MartinWeindel"},"@MartinWeindel"),")"),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("em",{parentName:"li"},"[OPERATOR]")," Updated builder image from ",(0,n.kt)("inlineCode",{parentName:"li"},"golang:1.20.2")," to ",(0,n.kt)("inlineCode",{parentName:"li"},"golang:1.20.4")," (",(0,n.kt)("a",{parentName:"li",href:"https://github.com/gardener/external-dns-management/pull/305"},"gardener/external-dns-management#305"),", ",(0,n.kt)("a",{parentName:"li",href:"https://github.com/MartinWeindel"},"@MartinWeindel"),")"))),(0,n.kt)("details",null,(0,n.kt)("summary",null,(0,n.kt)("b",null,"Update networking-calico to ",(0,n.kt)("code",null,"1.33.0"))),(0,n.kt)("h1",{id:"gardener-extension-networking-calico"},"[gardener-extension-networking-calico]"),(0,n.kt)("h2",{id:"-others-2"},"\ud83c\udfc3 Others"),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("em",{parentName:"li"},"[OPERATOR]")," The ",(0,n.kt)("inlineCode",{parentName:"li"},"gardener-extension-admission-calico")," Service in the ",(0,n.kt)("inlineCode",{parentName:"li"},"gardener-extension-admission-calico")," chart can now be configured to be topology-aware. (",(0,n.kt)("a",{parentName:"li",href:"https://github.com/gardener/gardener-extension-networking-calico/pull/258"},"gardener/gardener-extension-networking-calico#258"),", ",(0,n.kt)("a",{parentName:"li",href:"https://github.com/ialidzhikov"},"@ialidzhikov"),")"),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("em",{parentName:"li"},"[OPERATOR]")," A e2e test is added which tests all combinations of node to node and pod to pod communication. (",(0,n.kt)("a",{parentName:"li",href:"https://github.com/gardener/gardener-extension-networking-calico/pull/261"},"gardener/gardener-extension-networking-calico#261"),", ",(0,n.kt)("a",{parentName:"li",href:"https://github.com/DockToFuture"},"@DockToFuture"),")"),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("em",{parentName:"li"},"[OPERATOR]")," Update calico to ",(0,n.kt)("inlineCode",{parentName:"li"},"v3.25.1"),". (",(0,n.kt)("a",{parentName:"li",href:"https://github.com/gardener/gardener-extension-networking-calico/pull/262"},"gardener/gardener-extension-networking-calico#262"),", ",(0,n.kt)("a",{parentName:"li",href:"https://github.com/DockToFuture"},"@DockToFuture"),")"),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("em",{parentName:"li"},"[OPERATOR]")," The Gardener networking calico extension only supports kubernetes v1.21 going forward. (",(0,n.kt)("a",{parentName:"li",href:"https://github.com/gardener/gardener-extension-networking-calico/pull/263"},"gardener/gardener-extension-networking-calico#263"),", ",(0,n.kt)("a",{parentName:"li",href:"https://github.com/ScheererJ"},"@ScheererJ"),")"))),(0,n.kt)("details",null,(0,n.kt)("summary",null,(0,n.kt)("b",null,"Update networking-cilium to ",(0,n.kt)("code",null,"1.24.0"))),(0,n.kt)("h1",{id:"gardener-extension-networking-cilium"},"[gardener-extension-networking-cilium]"),(0,n.kt)("h2",{id:"-others-3"},"\ud83c\udfc3 Others"),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("em",{parentName:"li"},"[OPERATOR]")," The ",(0,n.kt)("inlineCode",{parentName:"li"},"gardener-extension-admission-cilium")," Service in the ",(0,n.kt)("inlineCode",{parentName:"li"},"gardener-extension-admission-cilium")," chart can now be configured to be topology-aware. (",(0,n.kt)("a",{parentName:"li",href:"https://github.com/gardener/gardener-extension-networking-cilium/pull/176"},"gardener/gardener-extension-networking-cilium#176"),", ",(0,n.kt)("a",{parentName:"li",href:"https://github.com/ialidzhikov"},"@ialidzhikov"),")"),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("em",{parentName:"li"},"[OPERATOR]")," A e2e test is added which tests all combinations of node to node and pod to pod communication. (",(0,n.kt)("a",{parentName:"li",href:"https://github.com/gardener/gardener-extension-networking-cilium/pull/179"},"gardener/gardener-extension-networking-cilium#179"),", ",(0,n.kt)("a",{parentName:"li",href:"https://github.com/DockToFuture"},"@DockToFuture"),")"),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("em",{parentName:"li"},"[OPERATOR]")," Portmap copier is removed. (",(0,n.kt)("a",{parentName:"li",href:"https://github.com/gardener/gardener-extension-networking-cilium/pull/180"},"gardener/gardener-extension-networking-cilium#180"),", ",(0,n.kt)("a",{parentName:"li",href:"https://github.com/DockToFuture"},"@DockToFuture"),")"),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("em",{parentName:"li"},"[OPERATOR]")," Memory limits for cilium agent are increased to 10 Gi. (",(0,n.kt)("a",{parentName:"li",href:"https://github.com/gardener/gardener-extension-networking-cilium/pull/183"},"gardener/gardener-extension-networking-cilium#183"),", ",(0,n.kt)("a",{parentName:"li",href:"https://github.com/DockToFuture"},"@DockToFuture"),")"),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("em",{parentName:"li"},"[OPERATOR]")," Cilium is update to ",(0,n.kt)("inlineCode",{parentName:"li"},"v1.13.2"),". (",(0,n.kt)("a",{parentName:"li",href:"https://github.com/gardener/gardener-extension-networking-cilium/pull/184"},"gardener/gardener-extension-networking-cilium#184"),", ",(0,n.kt)("a",{parentName:"li",href:"https://github.com/DockToFuture"},"@DockToFuture"),")"))),(0,n.kt)("details",null,(0,n.kt)("summary",null,(0,n.kt)("b",null,"Update shoot-cert-service to ",(0,n.kt)("code",null,"1.32.0"))),(0,n.kt)("h1",{id:"gardener-extension-shoot-cert-service"},"[gardener-extension-shoot-cert-service]"),(0,n.kt)("h2",{id:"-others-4"},"\ud83c\udfc3 Others"),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("em",{parentName:"li"},"[OPERATOR]")," Update builder image from ",(0,n.kt)("inlineCode",{parentName:"li"},"golang:1.20.2")," to ",(0,n.kt)("inlineCode",{parentName:"li"},"golang:1.20.4")," (",(0,n.kt)("a",{parentName:"li",href:"https://github.com/gardener/gardener-extension-shoot-cert-service/pull/162"},"gardener/gardener-extension-shoot-cert-service#162"),", ",(0,n.kt)("a",{parentName:"li",href:"https://github.com/MartinWeindel"},"@MartinWeindel"),")")),(0,n.kt)("h1",{id:"cert-management-1"},"[cert-management]"),(0,n.kt)("h2",{id:"-others-5"},"\ud83c\udfc3 Others"),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("em",{parentName:"li"},"[OPERATOR]")," Updated controller-manager-library dependency. (",(0,n.kt)("a",{parentName:"li",href:"https://github.com/gardener/cert-management/pull/127"},"gardener/cert-management#127"),", ",(0,n.kt)("a",{parentName:"li",href:"https://github.com/MartinWeindel"},"@MartinWeindel"),")"),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("em",{parentName:"li"},"[OPERATOR]")," Updated builder image from ",(0,n.kt)("inlineCode",{parentName:"li"},"golang:1.20.3")," to ",(0,n.kt)("inlineCode",{parentName:"li"},"golang:1.20.4")," (",(0,n.kt)("a",{parentName:"li",href:"https://github.com/gardener/cert-management/pull/127"},"gardener/cert-management#127"),", ",(0,n.kt)("a",{parentName:"li",href:"https://github.com/MartinWeindel"},"@MartinWeindel"),")"),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("em",{parentName:"li"},"[OPERATOR]")," The Cert-Management Helm charts supports setting ",(0,n.kt)("inlineCode",{parentName:"li"},".Values.podLabels"),". Those labels are added to the ",(0,n.kt)("inlineCode",{parentName:"li"},"podTemplate")," section of the Cert-Management deployment. (",(0,n.kt)("a",{parentName:"li",href:"https://github.com/gardener/cert-management/pull/125"},"gardener/cert-management#125"),", ",(0,n.kt)("a",{parentName:"li",href:"https://github.com/timuthy"},"@timuthy"),")"),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("em",{parentName:"li"},"[OPERATOR]")," Bump builder image from golang version ",(0,n.kt)("inlineCode",{parentName:"li"},"1.20.2")," to ",(0,n.kt)("inlineCode",{parentName:"li"},"1.20.3")," (",(0,n.kt)("a",{parentName:"li",href:"https://github.com/gardener/cert-management/pull/126"},"gardener/cert-management#126"),", ",(0,n.kt)("a",{parentName:"li",href:"https://github.com/MartinWeindel"},"@MartinWeindel"),")"))),(0,n.kt)("details",null,(0,n.kt)("summary",null,(0,n.kt)("b",null,"Update gardener-controlplane to ",(0,n.kt)("code",null,"1.70.0"))),(0,n.kt)("h1",{id:"gardener"},"[gardener]"),(0,n.kt)("h2",{id:"\ufe0f-breaking-changes"},"\u26a0\ufe0f Breaking Changes"),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("em",{parentName:"li"},"[USER]")," Gardener sets ",(0,n.kt)("a",{parentName:"li",href:"https://kubernetes.io/docs/concepts/scheduling-eviction/topology-spread-constraints/#spread-constraint-definition"},(0,n.kt)("inlineCode",{parentName:"a"},"minDomains"))," for shoot system components to the number of zones configured in the system component worker pool(s). (",(0,n.kt)("a",{parentName:"li",href:"https://github.com/gardener/gardener/pull/7826"},"gardener/gardener#7826"),", ",(0,n.kt)("a",{parentName:"li",href:"https://github.com/timuthy"},"@timuthy"),")",(0,n.kt)("ul",{parentName:"li"},(0,n.kt)("li",{parentName:"ul"},"\u26a0\ufe0f It is strongly recommended to place at least one worker node per availability zone for system component workers in order to ensure hitch-free rolling updates and scheduling of pods. You may need to adjust the ",(0,n.kt)("inlineCode",{parentName:"li"},"maximum: <number-of-zones>")," values of your system component worker pool(s)."),(0,n.kt)("li",{parentName:"ul"},"This configuration only takes effect for clusters which enabled feature gate ",(0,n.kt)("inlineCode",{parentName:"li"},"MinDomainsInPodTopologySpread")," (enabled by default as of Kubernetes ",(0,n.kt)("inlineCode",{parentName:"li"},"v1.27"),")."))),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("em",{parentName:"li"},"[USER]")," The ",(0,n.kt)("inlineCode",{parentName:"li"},"spec.secretBindingName"),", ",(0,n.kt)("inlineCode",{parentName:"li"},".spec.networking"),", ",(0,n.kt)("inlineCode",{parentName:"li"},".spec.networking.type"),", ",(0,n.kt)("inlineCode",{parentName:"li"},"spec.maintenance.autoUpdate.machineImageVersion")," fields in the Shoot API are now made optional to prepare for the introduction of workerless Shoots feature. Please see ",(0,n.kt)("a",{parentName:"li",href:"https://github.com/gardener/gardener/issues/7635"},"https://github.com/gardener/gardener/issues/7635")," for more details. (",(0,n.kt)("a",{parentName:"li",href:"https://github.com/gardener/gardener/pull/7828"},"gardener/gardener#7828"),", ",(0,n.kt)("a",{parentName:"li",href:"https://github.com/shafeeqes"},"@shafeeqes"),")"),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("em",{parentName:"li"},"[OPERATOR]")," The promoted or deprecated feature gates ",(0,n.kt)("inlineCode",{parentName:"li"},"ManagedIstio")," and ",(0,n.kt)("inlineCode",{parentName:"li"},"ReversedVPN")," have been removed. Remove these feature gates before updating to this version of Gardener. (",(0,n.kt)("a",{parentName:"li",href:"https://github.com/gardener/gardener/pull/7830"},"gardener/gardener#7830"),", ",(0,n.kt)("a",{parentName:"li",href:"https://github.com/rfranzke"},"@rfranzke"),")"),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("em",{parentName:"li"},"[DEVELOPER]")," The ",(0,n.kt)("inlineCode",{parentName:"li"},"gardener.cloud/timestamp")," annotation is now formatted as ",(0,n.kt)("inlineCode",{parentName:"li"},"time.RFC3339Nano"),". (",(0,n.kt)("a",{parentName:"li",href:"https://github.com/gardener/gardener/pull/7796"},"gardener/gardener#7796"),", ",(0,n.kt)("a",{parentName:"li",href:"https://github.com/dimityrmirchev"},"@dimityrmirchev"),")")),(0,n.kt)("h2",{id:"-new-features-1"},"\u2728 New Features"),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("em",{parentName:"li"},"[USER]")," It is now possible to specify custom linux kernel settings per worker pool for ",(0,n.kt)("inlineCode",{parentName:"li"},"Shoot"),"s via ",(0,n.kt)("inlineCode",{parentName:"li"},".spec.provider.workers[].sysctls"),", which may override Gardener default values. (",(0,n.kt)("a",{parentName:"li",href:"https://github.com/gardener/gardener/pull/7825"},"gardener/gardener#7825"),", ",(0,n.kt)("a",{parentName:"li",href:"https://github.com/ScheererJ"},"@ScheererJ"),")"),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("em",{parentName:"li"},"[USER]")," ",(0,n.kt)("inlineCode",{parentName:"li"},"Secret"),"s/",(0,n.kt)("inlineCode",{parentName:"li"},"ConfigMap"),"s referenced in ",(0,n.kt)("inlineCode",{parentName:"li"},".spec.resources")," of ",(0,n.kt)("inlineCode",{parentName:"li"},"Shoot"),"s are now protected with a finalizer to ensure they do not disappear from the system as long as they are still referenced somewhere. (",(0,n.kt)("a",{parentName:"li",href:"https://github.com/gardener/gardener/pull/7850"},"gardener/gardener#7850"),", ",(0,n.kt)("a",{parentName:"li",href:"https://github.com/rfranzke"},"@rfranzke"),")"),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("em",{parentName:"li"},"[OPERATOR]")," ",(0,n.kt)("inlineCode",{parentName:"li"},"gardener-operator")," now deploys ",(0,n.kt)("inlineCode",{parentName:"li"},"Istio")," components into the garden runtime cluster. (",(0,n.kt)("a",{parentName:"li",href:"https://github.com/gardener/gardener/pull/7817"},"gardener/gardener#7817"),", ",(0,n.kt)("a",{parentName:"li",href:"https://github.com/timuthy"},"@timuthy"),")"),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("em",{parentName:"li"},"[OPERATOR]")," The ",(0,n.kt)("a",{parentName:"li",href:"https://github.com/gardener/gardener/blob/master/docs/concepts/resource-manager.md#high-availability-config"},(0,n.kt)("inlineCode",{parentName:"a"},"highavailabilityconfig")," webhook")," configures topology spread constraints with ",(0,n.kt)("inlineCode",{parentName:"li"},"minDomains=<number-of- zones>"),". This configuration only takes effect for clusters which enabled feature gate ",(0,n.kt)("inlineCode",{parentName:"li"},"MinDomainsInPodTopologySpread")," (default as of Kubernetes ",(0,n.kt)("inlineCode",{parentName:"li"},"v1.27"),"). Please note, this configuration will require at least one worker node per registered availability zone so that Kubernetes can spread the respective seed, shoot and control-plane pods across zones. (",(0,n.kt)("a",{parentName:"li",href:"https://github.com/gardener/gardener/pull/7826"},"gardener/gardener#7826"),", ",(0,n.kt)("a",{parentName:"li",href:"https://github.com/timuthy"},"@timuthy"),")"),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("em",{parentName:"li"},"[OPERATOR]")," Gardener now supports seed clusters with Kubernetes versions up to ",(0,n.kt)("inlineCode",{parentName:"li"},"v1.26"),". (",(0,n.kt)("a",{parentName:"li",href:"https://github.com/gardener/gardener/pull/7831"},"gardener/gardener#7831"),", ",(0,n.kt)("a",{parentName:"li",href:"https://github.com/shafeeqes"},"@shafeeqes"),")"),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("em",{parentName:"li"},"[OPERATOR]")," Annotations in ",(0,n.kt)("inlineCode",{parentName:"li"},"seed.spec.settings.loadBalancerServices.annotations")," are now applied to the Nginx-Ingress load balancer service in the seed cluster. (",(0,n.kt)("a",{parentName:"li",href:"https://github.com/gardener/gardener/pull/7835"},"gardener/gardener#7835"),", ",(0,n.kt)("a",{parentName:"li",href:"https://github.com/timuthy"},"@timuthy"),")"),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("em",{parentName:"li"},"[OPERATOR]")," The ",(0,n.kt)("inlineCode",{parentName:"li"},"gardener-operator")," does now also manage ",(0,n.kt)("inlineCode",{parentName:"li"},"kube-state-metrics"),". (",(0,n.kt)("a",{parentName:"li",href:"https://github.com/gardener/gardener/pull/7836"},"gardener/gardener#7836"),", ",(0,n.kt)("a",{parentName:"li",href:"https://github.com/rfranzke"},"@rfranzke"),")"),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("em",{parentName:"li"},"[DEVELOPER]")," The local deployment of Gardener is extended so that it is now possible to create a second single zone HA ",(0,n.kt)("inlineCode",{parentName:"li"},"Seed"),". This ",(0,n.kt)("inlineCode",{parentName:"li"},"Seed")," can be used to test the control plane migration scenario for HA ",(0,n.kt)("inlineCode",{parentName:"li"},"Shoot"),"s. Additionally, make targets were added to trigger the control plane migration integration test with HA ",(0,n.kt)("inlineCode",{parentName:"li"},"Shoot"),"s: ",(0,n.kt)("inlineCode",{parentName:"li"},"test-e2e-local-migration-ha-single-zone")," to test the migration locally, and ",(0,n.kt)("inlineCode",{parentName:"li"},"ci-e2e-kind-migration-ha-single-zone")," mainly intended to be used in Gardener prow jobs. (",(0,n.kt)("a",{parentName:"li",href:"https://github.com/gardener/gardener/pull/7742"},"gardener/gardener#7742"),", ",(0,n.kt)("a",{parentName:"li",href:"https://github.com/plkokanov"},"@plkokanov"),")")),(0,n.kt)("h2",{id:"-bug-fixes-1"},"\ud83d\udc1b Bug Fixes"),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("em",{parentName:"li"},"[OPERATOR]")," Prevent nil pointer exceptions on shoot deletion in ",(0,n.kt)("inlineCode",{parentName:"li"},"gardenlet")," when seed namespace is gone. (",(0,n.kt)("a",{parentName:"li",href:"https://github.com/gardener/gardener/pull/7827"},"gardener/gardener#7827"),", ",(0,n.kt)("a",{parentName:"li",href:"https://github.com/oliver-goetz"},"@oliver-goetz"),")"),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("em",{parentName:"li"},"[OPERATOR]")," gardener-apiserver: The kubelet version constraint validation is now fixed to also cover the Shoot K8s version update. Previously it was possible to update the Shoot K8s version to a new minor version when the Shoot has a worker pool with machine image version which kubeletVersionConstraint does not match the new K8s version. (",(0,n.kt)("a",{parentName:"li",href:"https://github.com/gardener/gardener/pull/7853"},"gardener/gardener#7853"),", ",(0,n.kt)("a",{parentName:"li",href:"https://github.com/ialidzhikov"},"@ialidzhikov"),")")),(0,n.kt)("h2",{id:"-documentation"},"\ud83d\udcd6 Documentation"),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("em",{parentName:"li"},"[DEPENDENCY]")," The flags which went out-of-support in MCM v0.49.0 have been cleaned up from MCM deployment yaml. (",(0,n.kt)("a",{parentName:"li",href:"https://github.com/gardener/gardener/pull/7829"},"gardener/gardener#7829"),", ",(0,n.kt)("a",{parentName:"li",href:"https://github.com/himanshu-kun"},"@himanshu-kun"),")")),(0,n.kt)("h2",{id:"-others-6"},"\ud83c\udfc3 Others"),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("em",{parentName:"li"},"[OPERATOR]")," Suppress the event-logger ",(0,n.kt)("inlineCode",{parentName:"li"},"nest")," filter's warnings in the fluent-bit. (",(0,n.kt)("a",{parentName:"li",href:"https://github.com/gardener/gardener/pull/7832"},"gardener/gardener#7832"),", ",(0,n.kt)("a",{parentName:"li",href:"https://github.com/vlvasilev"},"@vlvasilev"),")"),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("em",{parentName:"li"},"[OPERATOR]")," Fixed an issue that would cause the ",(0,n.kt)("inlineCode",{parentName:"li"},"gardenlet")," to run into ",(0,n.kt)("inlineCode",{parentName:"li"},"CrashLoopBackoff")," when following the docs/development/getting_started_locally.md#remote-local-setup guide. (",(0,n.kt)("a",{parentName:"li",href:"https://github.com/gardener/gardener/pull/7841"},"gardener/gardener#7841"),", ",(0,n.kt)("a",{parentName:"li",href:"https://github.com/plkokanov"},"@plkokanov"),")"),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("em",{parentName:"li"},"[OPERATOR]")," When Seed's ",(0,n.kt)("inlineCode",{parentName:"li"},"spec.settings.ownerChecks.enabled=false")," gardenlet is now able to delete the owner DNSRecord for a Shoot stuck in deletion where the kube-apiserver Deployment is missing but the Infrastructure is present and cannot be deleted for some reason (infrastructure dependency, invalid credentials). (",(0,n.kt)("a",{parentName:"li",href:"https://github.com/gardener/gardener/pull/7842"},"gardener/gardener#7842"),", ",(0,n.kt)("a",{parentName:"li",href:"https://github.com/ialidzhikov"},"@ialidzhikov"),")"),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("em",{parentName:"li"},"[OPERATOR]")," The Istio Ingress-Gateway deployment was refined to speed up seed bootstrapping times. (",(0,n.kt)("a",{parentName:"li",href:"https://github.com/gardener/gardener/pull/7844"},"gardener/gardener#7844"),", ",(0,n.kt)("a",{parentName:"li",href:"https://github.com/timuthy"},"@timuthy"),")"),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("em",{parentName:"li"},"[OPERATOR]")," Change ",(0,n.kt)("inlineCode",{parentName:"li"},"log")," mount path of ",(0,n.kt)("inlineCode",{parentName:"li"},"node-problem-detector")," from ",(0,n.kt)("inlineCode",{parentName:"li"},"/var/log")," to ",(0,n.kt)("inlineCode",{parentName:"li"},"/var/log/journal"),". (",(0,n.kt)("a",{parentName:"li",href:"https://github.com/gardener/gardener/pull/7860"},"gardener/gardener#7860"),", ",(0,n.kt)("a",{parentName:"li",href:"https://github.com/AleksandarSavchev"},"@AleksandarSavchev"),")"),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("em",{parentName:"li"},"[OPERATOR]")," Gardener now deploys the ",(0,n.kt)("a",{parentName:"li",href:"https://github.com/gardener/autoscaler"},"cluster-autoscaler")," earlier in the shoot reconciliation flow without checking if the worker pools are ready. (",(0,n.kt)("a",{parentName:"li",href:"https://github.com/gardener/gardener/pull/7774"},"gardener/gardener#7774"),", ",(0,n.kt)("a",{parentName:"li",href:"https://github.com/rishabh-11"},"@rishabh-11"),")"),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("em",{parentName:"li"},"[DEVELOPER]")," Update local-setup to ",(0,n.kt)("inlineCode",{parentName:"li"},"kind@v0.18.0"),". (",(0,n.kt)("a",{parentName:"li",href:"https://github.com/gardener/gardener/pull/7831"},"gardener/gardener#7831"),", ",(0,n.kt)("a",{parentName:"li",href:"https://github.com/shafeeqes"},"@shafeeqes"),")"),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("em",{parentName:"li"},"[DEVELOPER]")," Deactivate leader election, health and readiness checks when running ",(0,n.kt)("inlineCode",{parentName:"li"},"make *-debug.")," (",(0,n.kt)("a",{parentName:"li",href:"https://github.com/gardener/gardener/pull/7847"},"gardener/gardener#7847"),", ",(0,n.kt)("a",{parentName:"li",href:"https://github.com/oliver-goetz"},"@oliver-goetz"),")"),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("em",{parentName:"li"},"[DEVELOPER]")," Improves testing flakiness of logging testmachinery test by making the loki init-container reliable. (",(0,n.kt)("a",{parentName:"li",href:"https://github.com/gardener/gardener/pull/7848"},"gardener/gardener#7848"),", ",(0,n.kt)("a",{parentName:"li",href:"https://github.com/nickytd"},"@nickytd"),")"),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("em",{parentName:"li"},"[DEVELOPER]")," Go version is updated to 1.20.4. (",(0,n.kt)("a",{parentName:"li",href:"https://github.com/gardener/gardener/pull/7862"},"gardener/gardener#7862"),", ",(0,n.kt)("a",{parentName:"li",href:"https://github.com/shafeeqes"},"@shafeeqes"),")"),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("em",{parentName:"li"},"[DEVELOPER]")," The ",(0,n.kt)("inlineCode",{parentName:"li"},"register-kind2-env")," and ",(0,n.kt)("inlineCode",{parentName:"li"},"tear-down-kind2-env")," will no longer try to deploy and delete the ",(0,n.kt)("inlineCode",{parentName:"li"},"seed-local")," ",(0,n.kt)("inlineCode",{parentName:"li"},"Secret"),". This fixes an issue where ",(0,n.kt)("inlineCode",{parentName:"li"},"tear-down-kind2-env")," would hang as it deletes and then waits for the ",(0,n.kt)("inlineCode",{parentName:"li"},"seed-local")," ",(0,n.kt)("inlineCode",{parentName:"li"},"Secret")," to be deleted which can not happen as long as the ",(0,n.kt)("inlineCode",{parentName:"li"},"local")," ",(0,n.kt)("inlineCode",{parentName:"li"},"Seed")," which uses it still exists. (",(0,n.kt)("a",{parentName:"li",href:"https://github.com/gardener/gardener/pull/7742"},"gardener/gardener#7742"),", ",(0,n.kt)("a",{parentName:"li",href:"https://github.com/plkokanov"},"@plkokanov"),")"),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("em",{parentName:"li"},"[DEVELOPER]")," Introduced a new field called ",(0,n.kt)("inlineCode",{parentName:"li"},"machineDeploymentsLastUpdateTime")," in the ",(0,n.kt)("inlineCode",{parentName:"li"},"Worker")," status to keep track of the time when the status of the Worker resource was last updated with the latest machine deployments. (",(0,n.kt)("a",{parentName:"li",href:"https://github.com/gardener/gardener/pull/7774"},"gardener/gardener#7774"),", ",(0,n.kt)("a",{parentName:"li",href:"https://github.com/rishabh-11"},"@rishabh-11"),")")),(0,n.kt)("h1",{id:"hvpa-controller"},"[hvpa-controller]"),(0,n.kt)("h2",{id:"-new-features-2"},"\u2728 New Features"),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("em",{parentName:"li"},"[OPERATOR]")," HVPA supports k8s versions >= 1.25 by switching to ",(0,n.kt)("inlineCode",{parentName:"li"},"k8s.io/autoscaling/v2")," when necessary for all API calls. (",(0,n.kt)("a",{parentName:"li",href:"https://github.com/gardener/hvpa-controller/pull/121"},"gardener/hvpa-controller#121"),", ",(0,n.kt)("a",{parentName:"li",href:"https://github.com/voelzmo"},"@voelzmo"),")"),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("em",{parentName:"li"},"[OPERATOR]")," Added a LeaderElectionID to the controller options, allowing to run multiple instances of HVPA with leader election when ",(0,n.kt)("inlineCode",{parentName:"li"},"--leader-elect=true")," is passed as commandline arg (",(0,n.kt)("a",{parentName:"li",href:"https://github.com/gardener/hvpa-controller/pull/122"},"gardener/hvpa-controller#122"),", ",(0,n.kt)("a",{parentName:"li",href:"https://github.com/voelzmo"},"@voelzmo"),")")),(0,n.kt)("h2",{id:"-others-7"},"\ud83c\udfc3 Others"),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("em",{parentName:"li"},"[OPERATOR]")," Updated go to 1.19.9 (",(0,n.kt)("a",{parentName:"li",href:"https://github.com/gardener/hvpa-controller/pull/123"},"gardener/hvpa-controller#123"),", ",(0,n.kt)("a",{parentName:"li",href:"https://github.com/voelzmo"},"@voelzmo"),")")),(0,n.kt)("h2",{id:"docker-images"},"Docker Images"),(0,n.kt)("p",null,"admission-controller: ",(0,n.kt)("inlineCode",{parentName:"p"},"eu.gcr.io/gardener-project/gardener/admission-controller:v1.70.0"),"\napiserver: ",(0,n.kt)("inlineCode",{parentName:"p"},"eu.gcr.io/gardener-project/gardener/apiserver:v1.70.0"),"\ncontroller-manager: ",(0,n.kt)("inlineCode",{parentName:"p"},"eu.gcr.io/gardener-project/gardener/controller-manager:v1.70.0"),"\nscheduler: ",(0,n.kt)("inlineCode",{parentName:"p"},"eu.gcr.io/gardener-project/gardener/scheduler:v1.70.0"),"\noperator: ",(0,n.kt)("inlineCode",{parentName:"p"},"eu.gcr.io/gardener-project/gardener/operator:v1.70.0"),"\ngardenlet: ",(0,n.kt)("inlineCode",{parentName:"p"},"eu.gcr.io/gardener-project/gardener/gardenlet:v1.70.0"),"\nresource-manager: ",(0,n.kt)("inlineCode",{parentName:"p"},"eu.gcr.io/gardener-project/gardener/resource-manager:v1.70.0"))),(0,n.kt)("details",null,(0,n.kt)("summary",null,(0,n.kt)("b",null,"Update gardener-controlplane to ",(0,n.kt)("code",null,"1.70.0"))),(0,n.kt)("h1",{id:"gardener-1"},"[gardener]"),(0,n.kt)("h2",{id:"\ufe0f-breaking-changes-1"},"\u26a0\ufe0f Breaking Changes"),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("em",{parentName:"li"},"[USER]")," Gardener sets ",(0,n.kt)("a",{parentName:"li",href:"https://kubernetes.io/docs/concepts/scheduling-eviction/topology-spread-constraints/#spread-constraint-definition"},(0,n.kt)("inlineCode",{parentName:"a"},"minDomains"))," for shoot system components to the number of zones configured in the system component worker pool(s). (",(0,n.kt)("a",{parentName:"li",href:"https://github.com/gardener/gardener/pull/7826"},"gardener/gardener#7826"),", ",(0,n.kt)("a",{parentName:"li",href:"https://github.com/timuthy"},"@timuthy"),")",(0,n.kt)("ul",{parentName:"li"},(0,n.kt)("li",{parentName:"ul"},"\u26a0\ufe0f It is strongly recommended to place at least one worker node per availability zone for system component workers in order to ensure hitch-free rolling updates and scheduling of pods. You may need to adjust the ",(0,n.kt)("inlineCode",{parentName:"li"},"maximum: <number-of-zones>")," values of your system component worker pool(s)."),(0,n.kt)("li",{parentName:"ul"},"This configuration only takes effect for clusters which enabled feature gate ",(0,n.kt)("inlineCode",{parentName:"li"},"MinDomainsInPodTopologySpread")," (enabled by default as of Kubernetes ",(0,n.kt)("inlineCode",{parentName:"li"},"v1.27"),")."))),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("em",{parentName:"li"},"[USER]")," The ",(0,n.kt)("inlineCode",{parentName:"li"},"spec.secretBindingName"),", ",(0,n.kt)("inlineCode",{parentName:"li"},".spec.networking"),", ",(0,n.kt)("inlineCode",{parentName:"li"},".spec.networking.type"),", ",(0,n.kt)("inlineCode",{parentName:"li"},"spec.maintenance.autoUpdate.machineImageVersion")," fields in the Shoot API are now made optional to prepare for the introduction of workerless Shoots feature. Please see ",(0,n.kt)("a",{parentName:"li",href:"https://github.com/gardener/gardener/issues/7635"},"https://github.com/gardener/gardener/issues/7635")," for more details. (",(0,n.kt)("a",{parentName:"li",href:"https://github.com/gardener/gardener/pull/7828"},"gardener/gardener#7828"),", ",(0,n.kt)("a",{parentName:"li",href:"https://github.com/shafeeqes"},"@shafeeqes"),")"),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("em",{parentName:"li"},"[OPERATOR]")," The promoted or deprecated feature gates ",(0,n.kt)("inlineCode",{parentName:"li"},"ManagedIstio")," and ",(0,n.kt)("inlineCode",{parentName:"li"},"ReversedVPN")," have been removed. Remove these feature gates before updating to this version of Gardener. (",(0,n.kt)("a",{parentName:"li",href:"https://github.com/gardener/gardener/pull/7830"},"gardener/gardener#7830"),", ",(0,n.kt)("a",{parentName:"li",href:"https://github.com/rfranzke"},"@rfranzke"),")"),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("em",{parentName:"li"},"[DEVELOPER]")," The ",(0,n.kt)("inlineCode",{parentName:"li"},"gardener.cloud/timestamp")," annotation is now formatted as ",(0,n.kt)("inlineCode",{parentName:"li"},"time.RFC3339Nano"),". (",(0,n.kt)("a",{parentName:"li",href:"https://github.com/gardener/gardener/pull/7796"},"gardener/gardener#7796"),", ",(0,n.kt)("a",{parentName:"li",href:"https://github.com/dimityrmirchev"},"@dimityrmirchev"),")")),(0,n.kt)("h2",{id:"-new-features-3"},"\u2728 New Features"),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("em",{parentName:"li"},"[USER]")," It is now possible to specify custom linux kernel settings per worker pool for ",(0,n.kt)("inlineCode",{parentName:"li"},"Shoot"),"s via ",(0,n.kt)("inlineCode",{parentName:"li"},".spec.provider.workers[].sysctls"),", which may override Gardener default values. (",(0,n.kt)("a",{parentName:"li",href:"https://github.com/gardener/gardener/pull/7825"},"gardener/gardener#7825"),", ",(0,n.kt)("a",{parentName:"li",href:"https://github.com/ScheererJ"},"@ScheererJ"),")"),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("em",{parentName:"li"},"[USER]")," ",(0,n.kt)("inlineCode",{parentName:"li"},"Secret"),"s/",(0,n.kt)("inlineCode",{parentName:"li"},"ConfigMap"),"s referenced in ",(0,n.kt)("inlineCode",{parentName:"li"},".spec.resources")," of ",(0,n.kt)("inlineCode",{parentName:"li"},"Shoot"),"s are now protected with a finalizer to ensure they do not disappear from the system as long as they are still referenced somewhere. (",(0,n.kt)("a",{parentName:"li",href:"https://github.com/gardener/gardener/pull/7850"},"gardener/gardener#7850"),", ",(0,n.kt)("a",{parentName:"li",href:"https://github.com/rfranzke"},"@rfranzke"),")"),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("em",{parentName:"li"},"[OPERATOR]")," ",(0,n.kt)("inlineCode",{parentName:"li"},"gardener-operator")," now deploys ",(0,n.kt)("inlineCode",{parentName:"li"},"Istio")," components into the garden runtime cluster. (",(0,n.kt)("a",{parentName:"li",href:"https://github.com/gardener/gardener/pull/7817"},"gardener/gardener#7817"),", ",(0,n.kt)("a",{parentName:"li",href:"https://github.com/timuthy"},"@timuthy"),")"),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("em",{parentName:"li"},"[OPERATOR]")," The ",(0,n.kt)("a",{parentName:"li",href:"https://github.com/gardener/gardener/blob/master/docs/concepts/resource-manager.md#high-availability-config"},(0,n.kt)("inlineCode",{parentName:"a"},"highavailabilityconfig")," webhook")," configures topology spread constraints with ",(0,n.kt)("inlineCode",{parentName:"li"},"minDomains=<number-of- zones>"),". This configuration only takes effect for clusters which enabled feature gate ",(0,n.kt)("inlineCode",{parentName:"li"},"MinDomainsInPodTopologySpread")," (default as of Kubernetes ",(0,n.kt)("inlineCode",{parentName:"li"},"v1.27"),"). Please note, this configuration will require at least one worker node per registered availability zone so that Kubernetes can spread the respective seed, shoot and control-plane pods across zones. (",(0,n.kt)("a",{parentName:"li",href:"https://github.com/gardener/gardener/pull/7826"},"gardener/gardener#7826"),", ",(0,n.kt)("a",{parentName:"li",href:"https://github.com/timuthy"},"@timuthy"),")"),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("em",{parentName:"li"},"[OPERATOR]")," Gardener now supports seed clusters with Kubernetes versions up to ",(0,n.kt)("inlineCode",{parentName:"li"},"v1.26"),". (",(0,n.kt)("a",{parentName:"li",href:"https://github.com/gardener/gardener/pull/7831"},"gardener/gardener#7831"),", ",(0,n.kt)("a",{parentName:"li",href:"https://github.com/shafeeqes"},"@shafeeqes"),")"),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("em",{parentName:"li"},"[OPERATOR]")," Annotations in ",(0,n.kt)("inlineCode",{parentName:"li"},"seed.spec.settings.loadBalancerServices.annotations")," are now applied to the Nginx-Ingress load balancer service in the seed cluster. (",(0,n.kt)("a",{parentName:"li",href:"https://github.com/gardener/gardener/pull/7835"},"gardener/gardener#7835"),", ",(0,n.kt)("a",{parentName:"li",href:"https://github.com/timuthy"},"@timuthy"),")"),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("em",{parentName:"li"},"[OPERATOR]")," The ",(0,n.kt)("inlineCode",{parentName:"li"},"gardener-operator")," does now also manage ",(0,n.kt)("inlineCode",{parentName:"li"},"kube-state-metrics"),". (",(0,n.kt)("a",{parentName:"li",href:"https://github.com/gardener/gardener/pull/7836"},"gardener/gardener#7836"),", ",(0,n.kt)("a",{parentName:"li",href:"https://github.com/rfranzke"},"@rfranzke"),")"),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("em",{parentName:"li"},"[DEVELOPER]")," The local deployment of Gardener is extended so that it is now possible to create a second single zone HA ",(0,n.kt)("inlineCode",{parentName:"li"},"Seed"),". This ",(0,n.kt)("inlineCode",{parentName:"li"},"Seed")," can be used to test the control plane migration scenario for HA ",(0,n.kt)("inlineCode",{parentName:"li"},"Shoot"),"s. Additionally, make targets were added to trigger the control plane migration integration test with HA ",(0,n.kt)("inlineCode",{parentName:"li"},"Shoot"),"s: ",(0,n.kt)("inlineCode",{parentName:"li"},"test-e2e-local-migration-ha-single-zone")," to test the migration locally, and ",(0,n.kt)("inlineCode",{parentName:"li"},"ci-e2e-kind-migration-ha-single-zone")," mainly intended to be used in Gardener prow jobs. (",(0,n.kt)("a",{parentName:"li",href:"https://github.com/gardener/gardener/pull/7742"},"gardener/gardener#7742"),", ",(0,n.kt)("a",{parentName:"li",href:"https://github.com/plkokanov"},"@plkokanov"),")")),(0,n.kt)("h2",{id:"-bug-fixes-2"},"\ud83d\udc1b Bug Fixes"),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("em",{parentName:"li"},"[OPERATOR]")," Prevent nil pointer exceptions on shoot deletion in ",(0,n.kt)("inlineCode",{parentName:"li"},"gardenlet")," when seed namespace is gone. (",(0,n.kt)("a",{parentName:"li",href:"https://github.com/gardener/gardener/pull/7827"},"gardener/gardener#7827"),", ",(0,n.kt)("a",{parentName:"li",href:"https://github.com/oliver-goetz"},"@oliver-goetz"),")"),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("em",{parentName:"li"},"[OPERATOR]")," gardener-apiserver: The kubelet version constraint validation is now fixed to also cover the Shoot K8s version update. Previously it was possible to update the Shoot K8s version to a new minor version when the Shoot has a worker pool with machine image version which kubeletVersionConstraint does not match the new K8s version. (",(0,n.kt)("a",{parentName:"li",href:"https://github.com/gardener/gardener/pull/7853"},"gardener/gardener#7853"),", ",(0,n.kt)("a",{parentName:"li",href:"https://github.com/ialidzhikov"},"@ialidzhikov"),")")),(0,n.kt)("h2",{id:"-documentation-1"},"\ud83d\udcd6 Documentation"),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("em",{parentName:"li"},"[DEPENDENCY]")," The flags which went out-of-support in MCM v0.49.0 have been cleaned up from MCM deployment yaml. (",(0,n.kt)("a",{parentName:"li",href:"https://github.com/gardener/gardener/pull/7829"},"gardener/gardener#7829"),", ",(0,n.kt)("a",{parentName:"li",href:"https://github.com/himanshu-kun"},"@himanshu-kun"),")")),(0,n.kt)("h2",{id:"-others-8"},"\ud83c\udfc3 Others"),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("em",{parentName:"li"},"[OPERATOR]")," Suppress the event-logger ",(0,n.kt)("inlineCode",{parentName:"li"},"nest")," filter's warnings in the fluent-bit. (",(0,n.kt)("a",{parentName:"li",href:"https://github.com/gardener/gardener/pull/7832"},"gardener/gardener#7832"),", ",(0,n.kt)("a",{parentName:"li",href:"https://github.com/vlvasilev"},"@vlvasilev"),")"),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("em",{parentName:"li"},"[OPERATOR]")," Fixed an issue that would cause the ",(0,n.kt)("inlineCode",{parentName:"li"},"gardenlet")," to run into ",(0,n.kt)("inlineCode",{parentName:"li"},"CrashLoopBackoff")," when following the docs/development/getting_started_locally.md#remote-local-setup guide. (",(0,n.kt)("a",{parentName:"li",href:"https://github.com/gardener/gardener/pull/7841"},"gardener/gardener#7841"),", ",(0,n.kt)("a",{parentName:"li",href:"https://github.com/plkokanov"},"@plkokanov"),")"),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("em",{parentName:"li"},"[OPERATOR]")," When Seed's ",(0,n.kt)("inlineCode",{parentName:"li"},"spec.settings.ownerChecks.enabled=false")," gardenlet is now able to delete the owner DNSRecord for a Shoot stuck in deletion where the kube-apiserver Deployment is missing but the Infrastructure is present and cannot be deleted for some reason (infrastructure dependency, invalid credentials). (",(0,n.kt)("a",{parentName:"li",href:"https://github.com/gardener/gardener/pull/7842"},"gardener/gardener#7842"),", ",(0,n.kt)("a",{parentName:"li",href:"https://github.com/ialidzhikov"},"@ialidzhikov"),")"),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("em",{parentName:"li"},"[OPERATOR]")," The Istio Ingress-Gateway deployment was refined to speed up seed bootstrapping times. (",(0,n.kt)("a",{parentName:"li",href:"https://github.com/gardener/gardener/pull/7844"},"gardener/gardener#7844"),", ",(0,n.kt)("a",{parentName:"li",href:"https://github.com/timuthy"},"@timuthy"),")"),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("em",{parentName:"li"},"[OPERATOR]")," Change ",(0,n.kt)("inlineCode",{parentName:"li"},"log")," mount path of ",(0,n.kt)("inlineCode",{parentName:"li"},"node-problem-detector")," from ",(0,n.kt)("inlineCode",{parentName:"li"},"/var/log")," to ",(0,n.kt)("inlineCode",{parentName:"li"},"/var/log/journal"),". (",(0,n.kt)("a",{parentName:"li",href:"https://github.com/gardener/gardener/pull/7860"},"gardener/gardener#7860"),", ",(0,n.kt)("a",{parentName:"li",href:"https://github.com/AleksandarSavchev"},"@AleksandarSavchev"),")"),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("em",{parentName:"li"},"[OPERATOR]")," Gardener now deploys the ",(0,n.kt)("a",{parentName:"li",href:"https://github.com/gardener/autoscaler"},"cluster-autoscaler")," earlier in the shoot reconciliation flow without checking if the worker pools are ready. (",(0,n.kt)("a",{parentName:"li",href:"https://github.com/gardener/gardener/pull/7774"},"gardener/gardener#7774"),", ",(0,n.kt)("a",{parentName:"li",href:"https://github.com/rishabh-11"},"@rishabh-11"),")"),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("em",{parentName:"li"},"[DEVELOPER]")," Update local-setup to ",(0,n.kt)("inlineCode",{parentName:"li"},"kind@v0.18.0"),". (",(0,n.kt)("a",{parentName:"li",href:"https://github.com/gardener/gardener/pull/7831"},"gardener/gardener#7831"),", ",(0,n.kt)("a",{parentName:"li",href:"https://github.com/shafeeqes"},"@shafeeqes"),")"),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("em",{parentName:"li"},"[DEVELOPER]")," Deactivate leader election, health and readiness checks when running ",(0,n.kt)("inlineCode",{parentName:"li"},"make *-debug.")," (",(0,n.kt)("a",{parentName:"li",href:"https://github.com/gardener/gardener/pull/7847"},"gardener/gardener#7847"),", ",(0,n.kt)("a",{parentName:"li",href:"https://github.com/oliver-goetz"},"@oliver-goetz"),")"),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("em",{parentName:"li"},"[DEVELOPER]")," Improves testing flakiness of logging testmachinery test by making the loki init-container reliable. (",(0,n.kt)("a",{parentName:"li",href:"https://github.com/gardener/gardener/pull/7848"},"gardener/gardener#7848"),", ",(0,n.kt)("a",{parentName:"li",href:"https://github.com/nickytd"},"@nickytd"),")"),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("em",{parentName:"li"},"[DEVELOPER]")," Go version is updated to 1.20.4. (",(0,n.kt)("a",{parentName:"li",href:"https://github.com/gardener/gardener/pull/7862"},"gardener/gardener#7862"),", ",(0,n.kt)("a",{parentName:"li",href:"https://github.com/shafeeqes"},"@shafeeqes"),")"),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("em",{parentName:"li"},"[DEVELOPER]")," The ",(0,n.kt)("inlineCode",{parentName:"li"},"register-kind2-env")," and ",(0,n.kt)("inlineCode",{parentName:"li"},"tear-down-kind2-env")," will no longer try to deploy and delete the ",(0,n.kt)("inlineCode",{parentName:"li"},"seed-local")," ",(0,n.kt)("inlineCode",{parentName:"li"},"Secret"),". This fixes an issue where ",(0,n.kt)("inlineCode",{parentName:"li"},"tear-down-kind2-env")," would hang as it deletes and then waits for the ",(0,n.kt)("inlineCode",{parentName:"li"},"seed-local")," ",(0,n.kt)("inlineCode",{parentName:"li"},"Secret")," to be deleted which can not happen as long as the ",(0,n.kt)("inlineCode",{parentName:"li"},"local")," ",(0,n.kt)("inlineCode",{parentName:"li"},"Seed")," which uses it still exists. (",(0,n.kt)("a",{parentName:"li",href:"https://github.com/gardener/gardener/pull/7742"},"gardener/gardener#7742"),", ",(0,n.kt)("a",{parentName:"li",href:"https://github.com/plkokanov"},"@plkokanov"),")"),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("em",{parentName:"li"},"[DEVELOPER]")," Introduced a new field called ",(0,n.kt)("inlineCode",{parentName:"li"},"machineDeploymentsLastUpdateTime")," in the ",(0,n.kt)("inlineCode",{parentName:"li"},"Worker")," status to keep track of the time when the status of the Worker resource was last updated with the latest machine deployments. (",(0,n.kt)("a",{parentName:"li",href:"https://github.com/gardener/gardener/pull/7774"},"gardener/gardener#7774"),", ",(0,n.kt)("a",{parentName:"li",href:"https://github.com/rishabh-11"},"@rishabh-11"),")")),(0,n.kt)("h1",{id:"hvpa-controller-1"},"[hvpa-controller]"),(0,n.kt)("h2",{id:"-new-features-4"},"\u2728 New Features"),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("em",{parentName:"li"},"[OPERATOR]")," HVPA supports k8s versions >= 1.25 by switching to ",(0,n.kt)("inlineCode",{parentName:"li"},"k8s.io/autoscaling/v2")," when necessary for all API calls. (",(0,n.kt)("a",{parentName:"li",href:"https://github.com/gardener/hvpa-controller/pull/121"},"gardener/hvpa-controller#121"),", ",(0,n.kt)("a",{parentName:"li",href:"https://github.com/voelzmo"},"@voelzmo"),")"),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("em",{parentName:"li"},"[OPERATOR]")," Added a LeaderElectionID to the controller options, allowing to run multiple instances of HVPA with leader election when ",(0,n.kt)("inlineCode",{parentName:"li"},"--leader-elect=true")," is passed as commandline arg (",(0,n.kt)("a",{parentName:"li",href:"https://github.com/gardener/hvpa-controller/pull/122"},"gardener/hvpa-controller#122"),", ",(0,n.kt)("a",{parentName:"li",href:"https://github.com/voelzmo"},"@voelzmo"),")")),(0,n.kt)("h2",{id:"-others-9"},"\ud83c\udfc3 Others"),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("em",{parentName:"li"},"[OPERATOR]")," Updated go to 1.19.9 (",(0,n.kt)("a",{parentName:"li",href:"https://github.com/gardener/hvpa-controller/pull/123"},"gardener/hvpa-controller#123"),", ",(0,n.kt)("a",{parentName:"li",href:"https://github.com/voelzmo"},"@voelzmo"),")")),(0,n.kt)("h2",{id:"docker-images-1"},"Docker Images"),(0,n.kt)("p",null,"admission-controller: ",(0,n.kt)("inlineCode",{parentName:"p"},"eu.gcr.io/gardener-project/gardener/admission-controller:v1.70.0"),"\napiserver: ",(0,n.kt)("inlineCode",{parentName:"p"},"eu.gcr.io/gardener-project/gardener/apiserver:v1.70.0"),"\ncontroller-manager: ",(0,n.kt)("inlineCode",{parentName:"p"},"eu.gcr.io/gardener-project/gardener/controller-manager:v1.70.0"),"\nscheduler: ",(0,n.kt)("inlineCode",{parentName:"p"},"eu.gcr.io/gardener-project/gardener/scheduler:v1.70.0"),"\noperator: ",(0,n.kt)("inlineCode",{parentName:"p"},"eu.gcr.io/gardener-project/gardener/operator:v1.70.0"),"\ngardenlet: ",(0,n.kt)("inlineCode",{parentName:"p"},"eu.gcr.io/gardener-project/gardener/gardenlet:v1.70.0"),"\nresource-manager: ",(0,n.kt)("inlineCode",{parentName:"p"},"eu.gcr.io/gardener-project/gardener/resource-manager:v1.70.0"))),(0,n.kt)("details",null,(0,n.kt)("summary",null,(0,n.kt)("b",null,"Update gardenlet to ",(0,n.kt)("code",null,"1.70.0"))),(0,n.kt)("h1",{id:"gardener-2"},"[gardener]"),(0,n.kt)("h2",{id:"\ufe0f-breaking-changes-2"},"\u26a0\ufe0f Breaking Changes"),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("em",{parentName:"li"},"[USER]")," Gardener sets ",(0,n.kt)("a",{parentName:"li",href:"https://kubernetes.io/docs/concepts/scheduling-eviction/topology-spread-constraints/#spread-constraint-definition"},(0,n.kt)("inlineCode",{parentName:"a"},"minDomains"))," for shoot system components to the number of zones configured in the system component worker pool(s). (",(0,n.kt)("a",{parentName:"li",href:"https://github.com/gardener/gardener/pull/7826"},"gardener/gardener#7826"),", ",(0,n.kt)("a",{parentName:"li",href:"https://github.com/timuthy"},"@timuthy"),")",(0,n.kt)("ul",{parentName:"li"},(0,n.kt)("li",{parentName:"ul"},"\u26a0\ufe0f It is strongly recommended to place at least one worker node per availability zone for system component workers in order to ensure hitch-free rolling updates and scheduling of pods. You may need to adjust the ",(0,n.kt)("inlineCode",{parentName:"li"},"maximum: <number-of-zones>")," values of your system component worker pool(s)."),(0,n.kt)("li",{parentName:"ul"},"This configuration only takes effect for clusters which enabled feature gate ",(0,n.kt)("inlineCode",{parentName:"li"},"MinDomainsInPodTopologySpread")," (enabled by default as of Kubernetes ",(0,n.kt)("inlineCode",{parentName:"li"},"v1.27"),")."))),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("em",{parentName:"li"},"[USER]")," The ",(0,n.kt)("inlineCode",{parentName:"li"},"spec.secretBindingName"),", ",(0,n.kt)("inlineCode",{parentName:"li"},".spec.networking"),", ",(0,n.kt)("inlineCode",{parentName:"li"},".spec.networking.type"),", ",(0,n.kt)("inlineCode",{parentName:"li"},"spec.maintenance.autoUpdate.machineImageVersion")," fields in the Shoot API are now made optional to prepare for the introduction of workerless Shoots feature. Please see ",(0,n.kt)("a",{parentName:"li",href:"https://github.com/gardener/gardener/issues/7635"},"https://github.com/gardener/gardener/issues/7635")," for more details. (",(0,n.kt)("a",{parentName:"li",href:"https://github.com/gardener/gardener/pull/7828"},"gardener/gardener#7828"),", ",(0,n.kt)("a",{parentName:"li",href:"https://github.com/shafeeqes"},"@shafeeqes"),")"),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("em",{parentName:"li"},"[OPERATOR]")," The promoted or deprecated feature gates ",(0,n.kt)("inlineCode",{parentName:"li"},"ManagedIstio")," and ",(0,n.kt)("inlineCode",{parentName:"li"},"ReversedVPN")," have been removed. Remove these feature gates before updating to this version of Gardener. (",(0,n.kt)("a",{parentName:"li",href:"https://github.com/gardener/gardener/pull/7830"},"gardener/gardener#7830"),", ",(0,n.kt)("a",{parentName:"li",href:"https://github.com/rfranzke"},"@rfranzke"),")"),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("em",{parentName:"li"},"[DEVELOPER]")," The ",(0,n.kt)("inlineCode",{parentName:"li"},"gardener.cloud/timestamp")," annotation is now formatted as ",(0,n.kt)("inlineCode",{parentName:"li"},"time.RFC3339Nano"),". (",(0,n.kt)("a",{parentName:"li",href:"https://github.com/gardener/gardener/pull/7796"},"gardener/gardener#7796"),", ",(0,n.kt)("a",{parentName:"li",href:"https://github.com/dimityrmirchev"},"@dimityrmirchev"),")")),(0,n.kt)("h2",{id:"-new-features-5"},"\u2728 New Features"),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("em",{parentName:"li"},"[USER]")," It is now possible to specify custom linux kernel settings per worker pool for ",(0,n.kt)("inlineCode",{parentName:"li"},"Shoot"),"s via ",(0,n.kt)("inlineCode",{parentName:"li"},".spec.provider.workers[].sysctls"),", which may override Gardener default values. (",(0,n.kt)("a",{parentName:"li",href:"https://github.com/gardener/gardener/pull/7825"},"gardener/gardener#7825"),", ",(0,n.kt)("a",{parentName:"li",href:"https://github.com/ScheererJ"},"@ScheererJ"),")"),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("em",{parentName:"li"},"[USER]")," ",(0,n.kt)("inlineCode",{parentName:"li"},"Secret"),"s/",(0,n.kt)("inlineCode",{parentName:"li"},"ConfigMap"),"s referenced in ",(0,n.kt)("inlineCode",{parentName:"li"},".spec.resources")," of ",(0,n.kt)("inlineCode",{parentName:"li"},"Shoot"),"s are now protected with a finalizer to ensure they do not disappear from the system as long as they are still referenced somewhere. (",(0,n.kt)("a",{parentName:"li",href:"https://github.com/gardener/gardener/pull/7850"},"gardener/gardener#7850"),", ",(0,n.kt)("a",{parentName:"li",href:"https://github.com/rfranzke"},"@rfranzke"),")"),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("em",{parentName:"li"},"[OPERATOR]")," ",(0,n.kt)("inlineCode",{parentName:"li"},"gardener-operator")," now deploys ",(0,n.kt)("inlineCode",{parentName:"li"},"Istio")," components into the garden runtime cluster. (",(0,n.kt)("a",{parentName:"li",href:"https://github.com/gardener/gardener/pull/7817"},"gardener/gardener#7817"),", ",(0,n.kt)("a",{parentName:"li",href:"https://github.com/timuthy"},"@timuthy"),")"),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("em",{parentName:"li"},"[OPERATOR]")," The ",(0,n.kt)("a",{parentName:"li",href:"https://github.com/gardener/gardener/blob/master/docs/concepts/resource-manager.md#high-availability-config"},(0,n.kt)("inlineCode",{parentName:"a"},"highavailabilityconfig")," webhook")," configures topology spread constraints with ",(0,n.kt)("inlineCode",{parentName:"li"},"minDomains=<number-of- zones>"),". This configuration only takes effect for clusters which enabled feature gate ",(0,n.kt)("inlineCode",{parentName:"li"},"MinDomainsInPodTopologySpread")," (default as of Kubernetes ",(0,n.kt)("inlineCode",{parentName:"li"},"v1.27"),"). Please note, this configuration will require at least one worker node per registered availability zone so that Kubernetes can spread the respective seed, shoot and control-plane pods across zones. (",(0,n.kt)("a",{parentName:"li",href:"https://github.com/gardener/gardener/pull/7826"},"gardener/gardener#7826"),", ",(0,n.kt)("a",{parentName:"li",href:"https://github.com/timuthy"},"@timuthy"),")"),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("em",{parentName:"li"},"[OPERATOR]")," Gardener now supports seed clusters with Kubernetes versions up to ",(0,n.kt)("inlineCode",{parentName:"li"},"v1.26"),". (",(0,n.kt)("a",{parentName:"li",href:"https://github.com/gardener/gardener/pull/7831"},"gardener/gardener#7831"),", ",(0,n.kt)("a",{parentName:"li",href:"https://github.com/shafeeqes"},"@shafeeqes"),")"),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("em",{parentName:"li"},"[OPERATOR]")," Annotations in ",(0,n.kt)("inlineCode",{parentName:"li"},"seed.spec.settings.loadBalancerServices.annotations")," are now applied to the Nginx-Ingress load balancer service in the seed cluster. (",(0,n.kt)("a",{parentName:"li",href:"https://github.com/gardener/gardener/pull/7835"},"gardener/gardener#7835"),", ",(0,n.kt)("a",{parentName:"li",href:"https://github.com/timuthy"},"@timuthy"),")"),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("em",{parentName:"li"},"[OPERATOR]")," The ",(0,n.kt)("inlineCode",{parentName:"li"},"gardener-operator")," does now also manage ",(0,n.kt)("inlineCode",{parentName:"li"},"kube-state-metrics"),". (",(0,n.kt)("a",{parentName:"li",href:"https://github.com/gardener/gardener/pull/7836"},"gardener/gardener#7836"),", ",(0,n.kt)("a",{parentName:"li",href:"https://github.com/rfranzke"},"@rfranzke"),")"),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("em",{parentName:"li"},"[DEVELOPER]")," The local deployment of Gardener is extended so that it is now possible to create a second single zone HA ",(0,n.kt)("inlineCode",{parentName:"li"},"Seed"),". This ",(0,n.kt)("inlineCode",{parentName:"li"},"Seed")," can be used to test the control plane migration scenario for HA ",(0,n.kt)("inlineCode",{parentName:"li"},"Shoot"),"s. Additionally, make targets were added to trigger the control plane migration integration test with HA ",(0,n.kt)("inlineCode",{parentName:"li"},"Shoot"),"s: ",(0,n.kt)("inlineCode",{parentName:"li"},"test-e2e-local-migration-ha-single-zone")," to test the migration locally, and ",(0,n.kt)("inlineCode",{parentName:"li"},"ci-e2e-kind-migration-ha-single-zone")," mainly intended to be used in Gardener prow jobs. (",(0,n.kt)("a",{parentName:"li",href:"https://github.com/gardener/gardener/pull/7742"},"gardener/gardener#7742"),", ",(0,n.kt)("a",{parentName:"li",href:"https://github.com/plkokanov"},"@plkokanov"),")")),(0,n.kt)("h2",{id:"-bug-fixes-3"},"\ud83d\udc1b Bug Fixes"),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("em",{parentName:"li"},"[OPERATOR]")," Prevent nil pointer exceptions on shoot deletion in ",(0,n.kt)("inlineCode",{parentName:"li"},"gardenlet")," when seed namespace is gone. (",(0,n.kt)("a",{parentName:"li",href:"https://github.com/gardener/gardener/pull/7827"},"gardener/gardener#7827"),", ",(0,n.kt)("a",{parentName:"li",href:"https://github.com/oliver-goetz"},"@oliver-goetz"),")"),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("em",{parentName:"li"},"[OPERATOR]")," gardener-apiserver: The kubelet version constraint validation is now fixed to also cover the Shoot K8s version update. Previously it was possible to update the Shoot K8s version to a new minor version when the Shoot has a worker pool with machine image version which kubeletVersionConstraint does not match the new K8s version. (",(0,n.kt)("a",{parentName:"li",href:"https://github.com/gardener/gardener/pull/7853"},"gardener/gardener#7853"),", ",(0,n.kt)("a",{parentName:"li",href:"https://github.com/ialidzhikov"},"@ialidzhikov"),")")),(0,n.kt)("h2",{id:"-documentation-2"},"\ud83d\udcd6 Documentation"),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("em",{parentName:"li"},"[DEPENDENCY]")," The flags which went out-of-support in MCM v0.49.0 have been cleaned up from MCM deployment yaml. (",(0,n.kt)("a",{parentName:"li",href:"https://github.com/gardener/gardener/pull/7829"},"gardener/gardener#7829"),", ",(0,n.kt)("a",{parentName:"li",href:"https://github.com/himanshu-kun"},"@himanshu-kun"),")")),(0,n.kt)("h2",{id:"-others-10"},"\ud83c\udfc3 Others"),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("em",{parentName:"li"},"[OPERATOR]")," Suppress the event-logger ",(0,n.kt)("inlineCode",{parentName:"li"},"nest")," filter's warnings in the fluent-bit. (",(0,n.kt)("a",{parentName:"li",href:"https://github.com/gardener/gardener/pull/7832"},"gardener/gardener#7832"),", ",(0,n.kt)("a",{parentName:"li",href:"https://github.com/vlvasilev"},"@vlvasilev"),")"),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("em",{parentName:"li"},"[OPERATOR]")," Fixed an issue that would cause the ",(0,n.kt)("inlineCode",{parentName:"li"},"gardenlet")," to run into ",(0,n.kt)("inlineCode",{parentName:"li"},"CrashLoopBackoff")," when following the docs/development/getting_started_locally.md#remote-local-setup guide. (",(0,n.kt)("a",{parentName:"li",href:"https://github.com/gardener/gardener/pull/7841"},"gardener/gardener#7841"),", ",(0,n.kt)("a",{parentName:"li",href:"https://github.com/plkokanov"},"@plkokanov"),")"),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("em",{parentName:"li"},"[OPERATOR]")," When Seed's ",(0,n.kt)("inlineCode",{parentName:"li"},"spec.settings.ownerChecks.enabled=false")," gardenlet is now able to delete the owner DNSRecord for a Shoot stuck in deletion where the kube-apiserver Deployment is missing but the Infrastructure is present and cannot be deleted for some reason (infrastructure dependency, invalid credentials). (",(0,n.kt)("a",{parentName:"li",href:"https://github.com/gardener/gardener/pull/7842"},"gardener/gardener#7842"),", ",(0,n.kt)("a",{parentName:"li",href:"https://github.com/ialidzhikov"},"@ialidzhikov"),")"),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("em",{parentName:"li"},"[OPERATOR]")," The Istio Ingress-Gateway deployment was refined to speed up seed bootstrapping times. (",(0,n.kt)("a",{parentName:"li",href:"https://github.com/gardener/gardener/pull/7844"},"gardener/gardener#7844"),", ",(0,n.kt)("a",{parentName:"li",href:"https://github.com/timuthy"},"@timuthy"),")"),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("em",{parentName:"li"},"[OPERATOR]")," Change ",(0,n.kt)("inlineCode",{parentName:"li"},"log")," mount path of ",(0,n.kt)("inlineCode",{parentName:"li"},"node-problem-detector")," from ",(0,n.kt)("inlineCode",{parentName:"li"},"/var/log")," to ",(0,n.kt)("inlineCode",{parentName:"li"},"/var/log/journal"),". (",(0,n.kt)("a",{parentName:"li",href:"https://github.com/gardener/gardener/pull/7860"},"gardener/gardener#7860"),", ",(0,n.kt)("a",{parentName:"li",href:"https://github.com/AleksandarSavchev"},"@AleksandarSavchev"),")"),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("em",{parentName:"li"},"[OPERATOR]")," Gardener now deploys the ",(0,n.kt)("a",{parentName:"li",href:"https://github.com/gardener/autoscaler"},"cluster-autoscaler")," earlier in the shoot reconciliation flow without checking if the worker pools are ready. (",(0,n.kt)("a",{parentName:"li",href:"https://github.com/gardener/gardener/pull/7774"},"gardener/gardener#7774"),", ",(0,n.kt)("a",{parentName:"li",href:"https://github.com/rishabh-11"},"@rishabh-11"),")"),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("em",{parentName:"li"},"[DEVELOPER]")," Update local-setup to ",(0,n.kt)("inlineCode",{parentName:"li"},"kind@v0.18.0"),". (",(0,n.kt)("a",{parentName:"li",href:"https://github.com/gardener/gardener/pull/7831"},"gardener/gardener#7831"),", ",(0,n.kt)("a",{parentName:"li",href:"https://github.com/shafeeqes"},"@shafeeqes"),")"),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("em",{parentName:"li"},"[DEVELOPER]")," Deactivate leader election, health and readiness checks when running ",(0,n.kt)("inlineCode",{parentName:"li"},"make *-debug.")," (",(0,n.kt)("a",{parentName:"li",href:"https://github.com/gardener/gardener/pull/7847"},"gardener/gardener#7847"),", ",(0,n.kt)("a",{parentName:"li",href:"https://github.com/oliver-goetz"},"@oliver-goetz"),")"),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("em",{parentName:"li"},"[DEVELOPER]")," Improves testing flakiness of logging testmachinery test by making the loki init-container reliable. (",(0,n.kt)("a",{parentName:"li",href:"https://github.com/gardener/gardener/pull/7848"},"gardener/gardener#7848"),", ",(0,n.kt)("a",{parentName:"li",href:"https://github.com/nickytd"},"@nickytd"),")"),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("em",{parentName:"li"},"[DEVELOPER]")," Go version is updated to 1.20.4. (",(0,n.kt)("a",{parentName:"li",href:"https://github.com/gardener/gardener/pull/7862"},"gardener/gardener#7862"),", ",(0,n.kt)("a",{parentName:"li",href:"https://github.com/shafeeqes"},"@shafeeqes"),")"),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("em",{parentName:"li"},"[DEVELOPER]")," The ",(0,n.kt)("inlineCode",{parentName:"li"},"register-kind2-env")," and ",(0,n.kt)("inlineCode",{parentName:"li"},"tear-down-kind2-env")," will no longer try to deploy and delete the ",(0,n.kt)("inlineCode",{parentName:"li"},"seed-local")," ",(0,n.kt)("inlineCode",{parentName:"li"},"Secret"),". This fixes an issue where ",(0,n.kt)("inlineCode",{parentName:"li"},"tear-down-kind2-env")," would hang as it deletes and then waits for the ",(0,n.kt)("inlineCode",{parentName:"li"},"seed-local")," ",(0,n.kt)("inlineCode",{parentName:"li"},"Secret")," to be deleted which can not happen as long as the ",(0,n.kt)("inlineCode",{parentName:"li"},"local")," ",(0,n.kt)("inlineCode",{parentName:"li"},"Seed")," which uses it still exists. (",(0,n.kt)("a",{parentName:"li",href:"https://github.com/gardener/gardener/pull/7742"},"gardener/gardener#7742"),", ",(0,n.kt)("a",{parentName:"li",href:"https://github.com/plkokanov"},"@plkokanov"),")"),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("em",{parentName:"li"},"[DEVELOPER]")," Introduced a new field called ",(0,n.kt)("inlineCode",{parentName:"li"},"machineDeploymentsLastUpdateTime")," in the ",(0,n.kt)("inlineCode",{parentName:"li"},"Worker")," status to keep track of the time when the status of the Worker resource was last updated with the latest machine deployments. (",(0,n.kt)("a",{parentName:"li",href:"https://github.com/gardener/gardener/pull/7774"},"gardener/gardener#7774"),", ",(0,n.kt)("a",{parentName:"li",href:"https://github.com/rishabh-11"},"@rishabh-11"),")")),(0,n.kt)("h1",{id:"hvpa-controller-2"},"[hvpa-controller]"),(0,n.kt)("h2",{id:"-new-features-6"},"\u2728 New Features"),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("em",{parentName:"li"},"[OPERATOR]")," HVPA supports k8s versions >= 1.25 by switching to ",(0,n.kt)("inlineCode",{parentName:"li"},"k8s.io/autoscaling/v2")," when necessary for all API calls. (",(0,n.kt)("a",{parentName:"li",href:"https://github.com/gardener/hvpa-controller/pull/121"},"gardener/hvpa-controller#121"),", ",(0,n.kt)("a",{parentName:"li",href:"https://github.com/voelzmo"},"@voelzmo"),")"),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("em",{parentName:"li"},"[OPERATOR]")," Added a LeaderElectionID to the controller options, allowing to run multiple instances of HVPA with leader election when ",(0,n.kt)("inlineCode",{parentName:"li"},"--leader-elect=true")," is passed as commandline arg (",(0,n.kt)("a",{parentName:"li",href:"https://github.com/gardener/hvpa-controller/pull/122"},"gardener/hvpa-controller#122"),", ",(0,n.kt)("a",{parentName:"li",href:"https://github.com/voelzmo"},"@voelzmo"),")")),(0,n.kt)("h2",{id:"-others-11"},"\ud83c\udfc3 Others"),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("em",{parentName:"li"},"[OPERATOR]")," Updated go to 1.19.9 (",(0,n.kt)("a",{parentName:"li",href:"https://github.com/gardener/hvpa-controller/pull/123"},"gardener/hvpa-controller#123"),", ",(0,n.kt)("a",{parentName:"li",href:"https://github.com/voelzmo"},"@voelzmo"),")")),(0,n.kt)("h2",{id:"docker-images-2"},"Docker Images"),(0,n.kt)("p",null,"admission-controller: ",(0,n.kt)("inlineCode",{parentName:"p"},"eu.gcr.io/gardener-project/gardener/admission-controller:v1.70.0"),"\napiserver: ",(0,n.kt)("inlineCode",{parentName:"p"},"eu.gcr.io/gardener-project/gardener/apiserver:v1.70.0"),"\ncontroller-manager: ",(0,n.kt)("inlineCode",{parentName:"p"},"eu.gcr.io/gardener-project/gardener/controller-manager:v1.70.0"),"\nscheduler: ",(0,n.kt)("inlineCode",{parentName:"p"},"eu.gcr.io/gardener-project/gardener/scheduler:v1.70.0"),"\noperator: ",(0,n.kt)("inlineCode",{parentName:"p"},"eu.gcr.io/gardener-project/gardener/operator:v1.70.0"),"\ngardenlet: ",(0,n.kt)("inlineCode",{parentName:"p"},"eu.gcr.io/gardener-project/gardener/gardenlet:v1.70.0"),"\nresource-manager: ",(0,n.kt)("inlineCode",{parentName:"p"},"eu.gcr.io/gardener-project/gardener/resource-manager:v1.70.0"))),(0,n.kt)("details",null,(0,n.kt)("summary",null,(0,n.kt)("b",null,"Update shoot-dns-service to ",(0,n.kt)("code",null,"1.33.0"))),(0,n.kt)("h1",{id:"gardener-extension-shoot-dns-service"},"[gardener-extension-shoot-dns-service]"),(0,n.kt)("h2",{id:"\ufe0f-breaking-changes-3"},"\u26a0\ufe0f Breaking Changes"),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("em",{parentName:"li"},"[OPERATOR]")," The charts for the controller-registration uses now ",(0,n.kt)("inlineCode",{parentName:"li"},"gardener.seed.name")," instead of ",(0,n.kt)("inlineCode",{parentName:"li"},"gardener.seed.identity"),". (",(0,n.kt)("a",{parentName:"li",href:"https://github.com/gardener/gardener-extension-shoot-dns-service/pull/209"},"gardener/gardener-extension-shoot-dns-service#209"),", ",(0,n.kt)("a",{parentName:"li",href:"https://github.com/MartinWeindel"},"@MartinWeindel"),")",(0,n.kt)("ul",{parentName:"li"},(0,n.kt)("li",{parentName:"ul"},"Make sure to use Gardener Version >= ",(0,n.kt)("inlineCode",{parentName:"li"},"v1.67.0"),".")))),(0,n.kt)("h2",{id:"-bug-fixes-4"},"\ud83d\udc1b Bug Fixes"),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("em",{parentName:"li"},"[OPERATOR]")," Fix nil pointer when rendering the gardener-extension-admission-shoot-dns-service runtime chart separately. (",(0,n.kt)("a",{parentName:"li",href:"https://github.com/gardener/gardener-extension-shoot-dns-service/pull/204"},"gardener/gardener-extension-shoot-dns-service#204"),", ",(0,n.kt)("a",{parentName:"li",href:"https://github.com/hendrikKahl"},"@hendrikKahl"),")")),(0,n.kt)("h2",{id:"-others-12"},"\ud83c\udfc3 Others"),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("em",{parentName:"li"},"[OPERATOR]")," Update builder image from ",(0,n.kt)("inlineCode",{parentName:"li"},"golang:1.20.3")," to ",(0,n.kt)("inlineCode",{parentName:"li"},"golang:1.20.4")," (",(0,n.kt)("a",{parentName:"li",href:"https://github.com/gardener/gardener-extension-shoot-dns-service/pull/209"},"gardener/gardener-extension-shoot-dns-service#209"),", ",(0,n.kt)("a",{parentName:"li",href:"https://github.com/MartinWeindel"},"@MartinWeindel"),")"),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("em",{parentName:"li"},"[OPERATOR]")," Bump builder image from ",(0,n.kt)("inlineCode",{parentName:"li"},"golang:1.20.2")," to ",(0,n.kt)("inlineCode",{parentName:"li"},"golang:1.20.3"),". (",(0,n.kt)("a",{parentName:"li",href:"https://github.com/gardener/gardener-extension-shoot-dns-service/pull/207"},"gardener/gardener-extension-shoot-dns-service#207"),", ",(0,n.kt)("a",{parentName:"li",href:"https://github.com/MartinWeindel"},"@MartinWeindel"),")")),(0,n.kt)("h1",{id:"external-dns-management-1"},"[external-dns-management]"),(0,n.kt)("h2",{id:"-new-features-7"},"\u2728 New Features"),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("em",{parentName:"li"},"[USER]")," Added support for proxy for HTTP Transport for Openstack Designate Provider (",(0,n.kt)("a",{parentName:"li",href:"https://github.com/gardener/external-dns-management/pull/304"},"gardener/external-dns-management#304"),", ",(0,n.kt)("a",{parentName:"li",href:"https://github.com/sdputurn"},"@sdputurn"),")")),(0,n.kt)("h2",{id:"-others-13"},"\ud83c\udfc3 Others"),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("em",{parentName:"li"},"[OPERATOR]")," Updated controller-manager-library dependency. (",(0,n.kt)("a",{parentName:"li",href:"https://github.com/gardener/external-dns-management/pull/305"},"gardener/external-dns-management#305"),", ",(0,n.kt)("a",{parentName:"li",href:"https://github.com/MartinWeindel"},"@MartinWeindel"),")"),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("em",{parentName:"li"},"[OPERATOR]")," Updated builder image from ",(0,n.kt)("inlineCode",{parentName:"li"},"golang:1.20.2")," to ",(0,n.kt)("inlineCode",{parentName:"li"},"golang:1.20.4")," (",(0,n.kt)("a",{parentName:"li",href:"https://github.com/gardener/external-dns-management/pull/305"},"gardener/external-dns-management#305"),", ",(0,n.kt)("a",{parentName:"li",href:"https://github.com/MartinWeindel"},"@MartinWeindel"),")"))),(0,n.kt)("details",null,(0,n.kt)("summary",null,(0,n.kt)("b",null,"Update provider-aws to ",(0,n.kt)("code",null,"1.43.1")))))}m.isMDXComponent=!0}}]);