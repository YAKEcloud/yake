"use strict";(self.webpackChunkwebsite=self.webpackChunkwebsite||[]).push([[1680],{3905:(e,n,t)=>{t.d(n,{Zo:()=>p,kt:()=>g});var a=t(67294);function r(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function i(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);n&&(a=a.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,a)}return t}function l(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?i(Object(t),!0).forEach((function(n){r(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):i(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function o(e,n){if(null==e)return{};var t,a,r=function(e,n){if(null==e)return{};var t,a,r={},i=Object.keys(e);for(a=0;a<i.length;a++)t=i[a],n.indexOf(t)>=0||(r[t]=e[t]);return r}(e,n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)t=i[a],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(r[t]=e[t])}return r}var d=a.createContext({}),s=function(e){var n=a.useContext(d),t=n;return e&&(t="function"==typeof e?e(n):l(l({},n),e)),t},p=function(e){var n=s(e.components);return a.createElement(d.Provider,{value:n},e.children)},m="mdxType",u={inlineCode:"code",wrapper:function(e){var n=e.children;return a.createElement(a.Fragment,{},n)}},c=a.forwardRef((function(e,n){var t=e.components,r=e.mdxType,i=e.originalType,d=e.parentName,p=o(e,["components","mdxType","originalType","parentName"]),m=s(t),c=r,g=m["".concat(d,".").concat(c)]||m[c]||u[c]||i;return t?a.createElement(g,l(l({ref:n},p),{},{components:t})):a.createElement(g,l({ref:n},p))}));function g(e,n){var t=arguments,r=n&&n.mdxType;if("string"==typeof e||r){var i=t.length,l=new Array(i);l[0]=c;var o={};for(var d in n)hasOwnProperty.call(n,d)&&(o[d]=n[d]);o.originalType=e,o[m]="string"==typeof e?e:r,l[1]=o;for(var s=2;s<i;s++)l[s]=t[s];return a.createElement.apply(null,l)}return a.createElement.apply(null,t)}c.displayName="MDXCreateElement"},5416:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>d,contentTitle:()=>l,default:()=>m,frontMatter:()=>i,metadata:()=>o,toc:()=>s});var a=t(87462),r=(t(67294),t(3905));const i={hide_table_of_contents:!0},l="Release Notes v1.77",o={unversionedId:"v1.77",id:"v1.77",title:"Release Notes v1.77",description:"23KE release notes and upgrade guide",source:"@site/release-notes/v1.77.md",sourceDirName:".",slug:"/v1.77",permalink:"/release-notes/v1.77",draft:!1,tags:[],version:"current",frontMatter:{hide_table_of_contents:!0},sidebar:"tutorialSidebar",next:{title:"Release Notes v1.76",permalink:"/release-notes/v1.76"}},d={},s=[{value:"23KE release notes and upgrade guide",id:"23ke-release-notes-and-upgrade-guide",level:2},{value:"Related upstream release notes / changelogs",id:"related-upstream-release-notes--changelogs",level:2},{value:"\ud83d\udc1b Bug Fixes",id:"-bug-fixes",level:2},{value:"\ud83d\udc1b Bug Fixes",id:"-bug-fixes-1",level:2},{value:"\ud83d\udc1b Bug Fixes",id:"-bug-fixes-2",level:2},{value:"\ud83d\udc1b Bug Fixes",id:"-bug-fixes-3",level:2},{value:"\ud83c\udfc3 Others",id:"-others",level:2},{value:"\ud83d\udc1b Bug Fixes",id:"-bug-fixes-4",level:2},{value:"\ud83c\udfc3 Others",id:"-others-1",level:2},{value:"\ud83d\udc1b Bug Fixes",id:"-bug-fixes-5",level:2},{value:"\ud83c\udfc3 Others",id:"-others-2",level:2},{value:"\ud83c\udfc3 Others",id:"-others-3",level:2},{value:"\ud83d\udc1b Bug Fixes",id:"-bug-fixes-6",level:2},{value:"\ud83d\udc1b Bug Fixes",id:"-bug-fixes-7",level:2},{value:"\ud83c\udfc3 Others",id:"-others-4",level:2},{value:"\u26a0\ufe0f Breaking Changes",id:"\ufe0f-breaking-changes",level:2},{value:"\ud83c\udfc3 Others",id:"-others-5",level:2},{value:"\ud83d\udcf0 Noteworthy",id:"-noteworthy",level:2},{value:"\ud83c\udfc3 Others",id:"-others-6",level:2},{value:"\u26a0\ufe0f Breaking Changes",id:"\ufe0f-breaking-changes-1",level:2},{value:"\ud83d\udcf0 Noteworthy",id:"-noteworthy-1",level:2},{value:"\u2728 New Features",id:"-new-features",level:2},{value:"\ud83d\udc1b Bug Fixes",id:"-bug-fixes-8",level:2},{value:"\ud83c\udfc3 Others",id:"-others-7",level:2},{value:"\u26a0\ufe0f Breaking Changes",id:"\ufe0f-breaking-changes-2",level:2},{value:"\u2728 New Features",id:"-new-features-1",level:2},{value:"\ud83d\udc1b Bug Fixes",id:"-bug-fixes-9",level:2},{value:"\ud83c\udfc3 Others",id:"-others-8",level:2},{value:"\ud83d\udcf0 Noteworthy",id:"-noteworthy-2",level:2},{value:"\ud83d\udc1b Bug Fixes",id:"-bug-fixes-10",level:2},{value:"\ud83d\udcf0 Noteworthy",id:"-noteworthy-3",level:2},{value:"\ud83c\udfc3 Others",id:"-others-9",level:2},{value:"\u26a0\ufe0f Breaking Changes",id:"\ufe0f-breaking-changes-3",level:2},{value:"\ud83d\udcf0 Noteworthy",id:"-noteworthy-4",level:2},{value:"\u2728 New Features",id:"-new-features-2",level:2},{value:"\ud83d\udc1b Bug Fixes",id:"-bug-fixes-11",level:2},{value:"\ud83c\udfc3 Others",id:"-others-10",level:2},{value:"\u26a0\ufe0f Breaking Changes",id:"\ufe0f-breaking-changes-4",level:2},{value:"\u2728 New Features",id:"-new-features-3",level:2},{value:"\ud83d\udc1b Bug Fixes",id:"-bug-fixes-12",level:2},{value:"\ud83c\udfc3 Others",id:"-others-11",level:2},{value:"\ud83d\udcf0 Noteworthy",id:"-noteworthy-5",level:2},{value:"\ud83d\udc1b Bug Fixes",id:"-bug-fixes-13",level:2},{value:"\ud83d\udcf0 Noteworthy",id:"-noteworthy-6",level:2},{value:"\ud83c\udfc3 Others",id:"-others-12",level:2},{value:"\u26a0\ufe0f Breaking Changes",id:"\ufe0f-breaking-changes-5",level:2},{value:"\ud83d\udcf0 Noteworthy",id:"-noteworthy-7",level:2},{value:"\u2728 New Features",id:"-new-features-4",level:2},{value:"\ud83d\udc1b Bug Fixes",id:"-bug-fixes-14",level:2},{value:"\ud83c\udfc3 Others",id:"-others-13",level:2},{value:"\u26a0\ufe0f Breaking Changes",id:"\ufe0f-breaking-changes-6",level:2},{value:"\u2728 New Features",id:"-new-features-5",level:2},{value:"\ud83d\udc1b Bug Fixes",id:"-bug-fixes-15",level:2},{value:"\ud83c\udfc3 Others",id:"-others-14",level:2},{value:"\ud83d\udcf0 Noteworthy",id:"-noteworthy-8",level:2},{value:"\ud83d\udc1b Bug Fixes",id:"-bug-fixes-16",level:2}],p={toc:s};function m(e){let{components:n,...t}=e;return(0,r.kt)("wrapper",(0,a.Z)({},p,t,{components:n,mdxType:"MDXLayout"}),(0,r.kt)("h1",{id:"release-notes-v177"},"Release Notes v1.77"),(0,r.kt)("h2",{id:"23ke-release-notes-and-upgrade-guide"},"23KE release notes and upgrade guide"),(0,r.kt)("h2",{id:"related-upstream-release-notes--changelogs"},"Related upstream release notes / changelogs"),(0,r.kt)("details",null,(0,r.kt)("summary",null,(0,r.kt)("b",null,"Update gardener-controlplane to ",(0,r.kt)("code",null,"1.76.1"))),(0,r.kt)("h1",{id:"gardenergardener"},"[gardener/gardener]"),(0,r.kt)("h2",{id:"-bug-fixes"},"\ud83d\udc1b Bug Fixes"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"[OPERATOR]")," gardenlet: A regression causing metering related recording rules for the aggregate-prometheus not to be applied is now fixed. by @gardener-ci-robot ","[#8286]")),(0,r.kt)("h1",{id:"docker-images"},"Docker Images"),(0,r.kt)("p",null,"admission-controller: ",(0,r.kt)("inlineCode",{parentName:"p"},"eu.gcr.io/gardener-project/gardener/admission-controller:v1.76.1"),"\napiserver: ",(0,r.kt)("inlineCode",{parentName:"p"},"eu.gcr.io/gardener-project/gardener/apiserver:v1.76.1"),"\ncontroller-manager: ",(0,r.kt)("inlineCode",{parentName:"p"},"eu.gcr.io/gardener-project/gardener/controller-manager:v1.76.1"),"\nscheduler: ",(0,r.kt)("inlineCode",{parentName:"p"},"eu.gcr.io/gardener-project/gardener/scheduler:v1.76.1"),"\noperator: ",(0,r.kt)("inlineCode",{parentName:"p"},"eu.gcr.io/gardener-project/gardener/operator:v1.76.1"),"\ngardenlet: ",(0,r.kt)("inlineCode",{parentName:"p"},"eu.gcr.io/gardener-project/gardener/gardenlet:v1.76.1"),"\nresource-manager: ",(0,r.kt)("inlineCode",{parentName:"p"},"eu.gcr.io/gardener-project/gardener/resource-manager:v1.76.1"))),(0,r.kt)("details",null,(0,r.kt)("summary",null,(0,r.kt)("b",null,"Update gardener-controlplane to ",(0,r.kt)("code",null,"1.76.1"))),(0,r.kt)("h1",{id:"gardenergardener-1"},"[gardener/gardener]"),(0,r.kt)("h2",{id:"-bug-fixes-1"},"\ud83d\udc1b Bug Fixes"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"[OPERATOR]")," gardenlet: A regression causing metering related recording rules for the aggregate-prometheus not to be applied is now fixed. by @gardener-ci-robot ","[#8286]")),(0,r.kt)("h1",{id:"docker-images-1"},"Docker Images"),(0,r.kt)("p",null,"admission-controller: ",(0,r.kt)("inlineCode",{parentName:"p"},"eu.gcr.io/gardener-project/gardener/admission-controller:v1.76.1"),"\napiserver: ",(0,r.kt)("inlineCode",{parentName:"p"},"eu.gcr.io/gardener-project/gardener/apiserver:v1.76.1"),"\ncontroller-manager: ",(0,r.kt)("inlineCode",{parentName:"p"},"eu.gcr.io/gardener-project/gardener/controller-manager:v1.76.1"),"\nscheduler: ",(0,r.kt)("inlineCode",{parentName:"p"},"eu.gcr.io/gardener-project/gardener/scheduler:v1.76.1"),"\noperator: ",(0,r.kt)("inlineCode",{parentName:"p"},"eu.gcr.io/gardener-project/gardener/operator:v1.76.1"),"\ngardenlet: ",(0,r.kt)("inlineCode",{parentName:"p"},"eu.gcr.io/gardener-project/gardener/gardenlet:v1.76.1"),"\nresource-manager: ",(0,r.kt)("inlineCode",{parentName:"p"},"eu.gcr.io/gardener-project/gardener/resource-manager:v1.76.1"))),(0,r.kt)("details",null,(0,r.kt)("summary",null,(0,r.kt)("b",null,"Update gardenlet to ",(0,r.kt)("code",null,"1.76.1"))),(0,r.kt)("h1",{id:"gardenergardener-2"},"[gardener/gardener]"),(0,r.kt)("h2",{id:"-bug-fixes-2"},"\ud83d\udc1b Bug Fixes"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"[OPERATOR]")," gardenlet: A regression causing metering related recording rules for the aggregate-prometheus not to be applied is now fixed. by @gardener-ci-robot ","[#8286]")),(0,r.kt)("h1",{id:"docker-images-2"},"Docker Images"),(0,r.kt)("p",null,"admission-controller: ",(0,r.kt)("inlineCode",{parentName:"p"},"eu.gcr.io/gardener-project/gardener/admission-controller:v1.76.1"),"\napiserver: ",(0,r.kt)("inlineCode",{parentName:"p"},"eu.gcr.io/gardener-project/gardener/apiserver:v1.76.1"),"\ncontroller-manager: ",(0,r.kt)("inlineCode",{parentName:"p"},"eu.gcr.io/gardener-project/gardener/controller-manager:v1.76.1"),"\nscheduler: ",(0,r.kt)("inlineCode",{parentName:"p"},"eu.gcr.io/gardener-project/gardener/scheduler:v1.76.1"),"\noperator: ",(0,r.kt)("inlineCode",{parentName:"p"},"eu.gcr.io/gardener-project/gardener/operator:v1.76.1"),"\ngardenlet: ",(0,r.kt)("inlineCode",{parentName:"p"},"eu.gcr.io/gardener-project/gardener/gardenlet:v1.76.1"),"\nresource-manager: ",(0,r.kt)("inlineCode",{parentName:"p"},"eu.gcr.io/gardener-project/gardener/resource-manager:v1.76.1"))),(0,r.kt)("details",null,(0,r.kt)("summary",null,(0,r.kt)("b",null,"Update gardener-controlplane to ",(0,r.kt)("code",null,"1.76.2"))),(0,r.kt)("h1",{id:"gardenergardener-3"},"[gardener/gardener]"),(0,r.kt)("h2",{id:"-bug-fixes-3"},"\ud83d\udc1b Bug Fixes"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"[USER]")," An issue has been fixed for highly-available ",(0,r.kt)("inlineCode",{parentName:"li"},"Shoot"),"s whose ",(0,r.kt)("inlineCode",{parentName:"li"},"etcd")," clusters didn't get ready in the ",(0,r.kt)("inlineCode",{parentName:"li"},"Completing")," phase of a CA credentials rotation. by @gardener-ci-robot ","[#8306]")),(0,r.kt)("h2",{id:"-others"},"\ud83c\udfc3 Others"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"[OPERATOR]")," A bug preventing ",(0,r.kt)("inlineCode",{parentName:"li"},"plutono")," ingress to use ",(0,r.kt)("inlineCode",{parentName:"li"},"wildcard-certificate")," is fixed. by @gardener-ci-robot ","[#8318]"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"[OPERATOR]")," gardenlet: A regression preventing the alertmanager in the garden namespace from sending email notifications is now fixed. by @gardener-ci-robot ","[#8314]")),(0,r.kt)("h1",{id:"docker-images-3"},"Docker Images"),(0,r.kt)("p",null,"admission-controller: ",(0,r.kt)("inlineCode",{parentName:"p"},"eu.gcr.io/gardener-project/gardener/admission-controller:v1.76.2"),"\napiserver: ",(0,r.kt)("inlineCode",{parentName:"p"},"eu.gcr.io/gardener-project/gardener/apiserver:v1.76.2"),"\ncontroller-manager: ",(0,r.kt)("inlineCode",{parentName:"p"},"eu.gcr.io/gardener-project/gardener/controller-manager:v1.76.2"),"\nscheduler: ",(0,r.kt)("inlineCode",{parentName:"p"},"eu.gcr.io/gardener-project/gardener/scheduler:v1.76.2"),"\noperator: ",(0,r.kt)("inlineCode",{parentName:"p"},"eu.gcr.io/gardener-project/gardener/operator:v1.76.2"),"\ngardenlet: ",(0,r.kt)("inlineCode",{parentName:"p"},"eu.gcr.io/gardener-project/gardener/gardenlet:v1.76.2"),"\nresource-manager: ",(0,r.kt)("inlineCode",{parentName:"p"},"eu.gcr.io/gardener-project/gardener/resource-manager:v1.76.2"))),(0,r.kt)("details",null,(0,r.kt)("summary",null,(0,r.kt)("b",null,"Update gardener-controlplane to ",(0,r.kt)("code",null,"1.76.2"))),(0,r.kt)("h1",{id:"gardenergardener-4"},"[gardener/gardener]"),(0,r.kt)("h2",{id:"-bug-fixes-4"},"\ud83d\udc1b Bug Fixes"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"[USER]")," An issue has been fixed for highly-available ",(0,r.kt)("inlineCode",{parentName:"li"},"Shoot"),"s whose ",(0,r.kt)("inlineCode",{parentName:"li"},"etcd")," clusters didn't get ready in the ",(0,r.kt)("inlineCode",{parentName:"li"},"Completing")," phase of a CA credentials rotation. by @gardener-ci-robot ","[#8306]")),(0,r.kt)("h2",{id:"-others-1"},"\ud83c\udfc3 Others"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"[OPERATOR]")," A bug preventing ",(0,r.kt)("inlineCode",{parentName:"li"},"plutono")," ingress to use ",(0,r.kt)("inlineCode",{parentName:"li"},"wildcard-certificate")," is fixed. by @gardener-ci-robot ","[#8318]"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"[OPERATOR]")," gardenlet: A regression preventing the alertmanager in the garden namespace from sending email notifications is now fixed. by @gardener-ci-robot ","[#8314]")),(0,r.kt)("h1",{id:"docker-images-4"},"Docker Images"),(0,r.kt)("p",null,"admission-controller: ",(0,r.kt)("inlineCode",{parentName:"p"},"eu.gcr.io/gardener-project/gardener/admission-controller:v1.76.2"),"\napiserver: ",(0,r.kt)("inlineCode",{parentName:"p"},"eu.gcr.io/gardener-project/gardener/apiserver:v1.76.2"),"\ncontroller-manager: ",(0,r.kt)("inlineCode",{parentName:"p"},"eu.gcr.io/gardener-project/gardener/controller-manager:v1.76.2"),"\nscheduler: ",(0,r.kt)("inlineCode",{parentName:"p"},"eu.gcr.io/gardener-project/gardener/scheduler:v1.76.2"),"\noperator: ",(0,r.kt)("inlineCode",{parentName:"p"},"eu.gcr.io/gardener-project/gardener/operator:v1.76.2"),"\ngardenlet: ",(0,r.kt)("inlineCode",{parentName:"p"},"eu.gcr.io/gardener-project/gardener/gardenlet:v1.76.2"),"\nresource-manager: ",(0,r.kt)("inlineCode",{parentName:"p"},"eu.gcr.io/gardener-project/gardener/resource-manager:v1.76.2"))),(0,r.kt)("details",null,(0,r.kt)("summary",null,(0,r.kt)("b",null,"Update gardenlet to ",(0,r.kt)("code",null,"1.76.2"))),(0,r.kt)("h1",{id:"gardenergardener-5"},"[gardener/gardener]"),(0,r.kt)("h2",{id:"-bug-fixes-5"},"\ud83d\udc1b Bug Fixes"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"[USER]")," An issue has been fixed for highly-available ",(0,r.kt)("inlineCode",{parentName:"li"},"Shoot"),"s whose ",(0,r.kt)("inlineCode",{parentName:"li"},"etcd")," clusters didn't get ready in the ",(0,r.kt)("inlineCode",{parentName:"li"},"Completing")," phase of a CA credentials rotation. by @gardener-ci-robot ","[#8306]")),(0,r.kt)("h2",{id:"-others-2"},"\ud83c\udfc3 Others"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"[OPERATOR]")," A bug preventing ",(0,r.kt)("inlineCode",{parentName:"li"},"plutono")," ingress to use ",(0,r.kt)("inlineCode",{parentName:"li"},"wildcard-certificate")," is fixed. by @gardener-ci-robot ","[#8318]"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"[OPERATOR]")," gardenlet: A regression preventing the alertmanager in the garden namespace from sending email notifications is now fixed. by @gardener-ci-robot ","[#8314]")),(0,r.kt)("h1",{id:"docker-images-5"},"Docker Images"),(0,r.kt)("p",null,"admission-controller: ",(0,r.kt)("inlineCode",{parentName:"p"},"eu.gcr.io/gardener-project/gardener/admission-controller:v1.76.2"),"\napiserver: ",(0,r.kt)("inlineCode",{parentName:"p"},"eu.gcr.io/gardener-project/gardener/apiserver:v1.76.2"),"\ncontroller-manager: ",(0,r.kt)("inlineCode",{parentName:"p"},"eu.gcr.io/gardener-project/gardener/controller-manager:v1.76.2"),"\nscheduler: ",(0,r.kt)("inlineCode",{parentName:"p"},"eu.gcr.io/gardener-project/gardener/scheduler:v1.76.2"),"\noperator: ",(0,r.kt)("inlineCode",{parentName:"p"},"eu.gcr.io/gardener-project/gardener/operator:v1.76.2"),"\ngardenlet: ",(0,r.kt)("inlineCode",{parentName:"p"},"eu.gcr.io/gardener-project/gardener/gardenlet:v1.76.2"),"\nresource-manager: ",(0,r.kt)("inlineCode",{parentName:"p"},"eu.gcr.io/gardener-project/gardener/resource-manager:v1.76.2"))),(0,r.kt)("details",null,(0,r.kt)("summary",null,(0,r.kt)("b",null,"Update external-dns-management to ",(0,r.kt)("code",null,"0.15.8"))),(0,r.kt)("h1",{id:"gardenerexternal-dns-management"},"[gardener/external-dns-management]"),(0,r.kt)("h2",{id:"-others-3"},"\ud83c\udfc3 Others"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"[OPERATOR]")," Reduce memory footprint for secrets. by @MartinWeindel ","[#312]"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"[OPERATOR]")," Bump builder image from ",(0,r.kt)("inlineCode",{parentName:"li"},"golang:1.20.5")," to ",(0,r.kt)("inlineCode",{parentName:"li"},"golang:1.20.7")," by @MartinWeindel ","[#312]"))),(0,r.kt)("details",null,(0,r.kt)("summary",null,(0,r.kt)("b",null,"Update provider-azure to ",(0,r.kt)("code",null,"1.37.1"))),(0,r.kt)("h1",{id:"gardenergardener-extension-provider-azure"},"[gardener/gardener-extension-provider-azure]"),(0,r.kt)("h2",{id:"-bug-fixes-6"},"\ud83d\udc1b Bug Fixes"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"[USER]")," The node-controller-manager is now set to keep setting deprecated node labels for k8s clusters of version ",(0,r.kt)("inlineCode",{parentName:"li"},">=1.26.0, <1.28.0")," to ensure pods using persistent volumes with node affinities are scheduled in the cluster. by @kon-angelo ","[#718]"))),(0,r.kt)("details",null,(0,r.kt)("summary",null,(0,r.kt)("b",null,"Update shoot-dns-service to ",(0,r.kt)("code",null,"1.37.0"))),(0,r.kt)("h1",{id:"gardenerexternal-dns-management-1"},"[gardener/external-dns-management]"),(0,r.kt)("h2",{id:"-bug-fixes-7"},"\ud83d\udc1b Bug Fixes"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"[OPERATOR]")," Update controller-manager-library dependency to fix panic on api-resources discovery. by @MartinWeindel ","[gardener/external-dns-management#310]")),(0,r.kt)("h2",{id:"-others-4"},"\ud83c\udfc3 Others"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"[OPERATOR]")," Bump builder image from ",(0,r.kt)("inlineCode",{parentName:"li"},"golang:1.20.5")," to ",(0,r.kt)("inlineCode",{parentName:"li"},"golang:1.20.7")," by @MartinWeindel ","[gardener/external-dns-management#312]"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"[OPERATOR]")," Reduce memory footprint for secrets. by @MartinWeindel ","[gardener/external-dns-management#312]")),(0,r.kt)("h1",{id:"gardenergardener-extension-shoot-dns-service"},"[gardener/gardener-extension-shoot-dns-service]"),(0,r.kt)("h2",{id:"\ufe0f-breaking-changes"},"\u26a0\ufe0f Breaking Changes"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"[OPERATOR]")," ",(0,r.kt)("inlineCode",{parentName:"li"},"extension-shoot-dns-service")," no longer supports Shoots with \u041aubernetes version < 1.22. by @shafeeqes ","[#218]"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"[OPERATOR]")," The ",(0,r.kt)("inlineCode",{parentName:"li"},"security.gardener.cloud/pod-security-enforce")," annotation in the ControllerRegistration is set to ",(0,r.kt)("inlineCode",{parentName:"li"},"baseline"),". With this, the pods running in the extension namespace should comply with ",(0,r.kt)("inlineCode",{parentName:"li"},"baseline")," pod-security standard. by @shafeeqes ","[#222]")),(0,r.kt)("h2",{id:"-others-5"},"\ud83c\udfc3 Others"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"[OPERATOR]")," Bumps golang from 1.20.5 to 1.21.0. by @dependabot","[bot][#227]"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"[OPERATOR]")," Ensure dns-controller-manager is restarted on CA rotation for remote-access server by @MartinWeindel ","[#223]"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"[OPERATOR]")," Bumps ",(0,r.kt)("a",{parentName:"li",href:"https://github.com/gardener/gardener"},"github.com/gardener/gardener")," from 1.75.0 to 1.76.2. by @dependabot","[bot][#228]"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"[OPERATOR]")," Fix set_dependency_version for ",(0,r.kt)("inlineCode",{parentName:"li"},"workerlessSupported")," by @MartinWeindel ","[#226]"))),(0,r.kt)("details",null,(0,r.kt)("summary",null,(0,r.kt)("b",null,"Update gardener-controlplane to ",(0,r.kt)("code",null,"1.77.0"))),(0,r.kt)("h1",{id:"gardeneretcd-backup-restore"},"[gardener/etcd-backup-restore]"),(0,r.kt)("h2",{id:"-noteworthy"},"\ud83d\udcf0 Noteworthy"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"[OPERATOR]")," Etcd-backup-restore now uses a distroless image as its base image. It is no longer compatible with ",(0,r.kt)("a",{parentName:"li",href:"https://github.com/gardener/etcd-custom-image"},"etcd-custom-image"),", and must be used with ",(0,r.kt)("a",{parentName:"li",href:"https://github.com/gardener/etcd-wrapper"},"etcd-wrapper")," instead.  by @aaronfern ","[gardener/etcd-backup-restore#637]"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"[OPERATOR]")," Etcd-backup-restore now uses the user home directory to create files. by @aaronfern ","[gardener/etcd-backup-restore#637]")),(0,r.kt)("h2",{id:"-others-6"},"\ud83c\udfc3 Others"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"[OPERATOR]")," While scaling up a non-HA etcd cluster to HA skipping the scale-up checks for first member of etcd cluster as first member can never be a part of scale-up scenarios. by @ishan16696 ","[gardener/etcd-backup-restore#649]"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"[OPERATOR]")," Backup-restore waits for its etcd to be ready before attempting to update peerUrl by @aaronfern ","[gardener/etcd-backup-restore#628]"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"[DEVELOPER]")," Add CVE categorization for etcd-backup-restore. by @shreyas-s-rao ","[gardener/etcd-backup-restore#644]")),(0,r.kt)("h1",{id:"gardenergardener-6"},"[gardener/gardener]"),(0,r.kt)("h2",{id:"\ufe0f-breaking-changes-1"},"\u26a0\ufe0f Breaking Changes"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"[DEVELOPER]")," If you are using ",(0,r.kt)("inlineCode",{parentName:"li"},"provider-extension")," setup you should adapt your files in ",(0,r.kt)("inlineCode",{parentName:"li"},"example/provider-extensions/garden/controlplane")," because ",(0,r.kt)("inlineCode",{parentName:"li"},"default-domain")," and ",(0,r.kt)("inlineCode",{parentName:"li"},"internal-domain")," secrets are removed from ",(0,r.kt)("inlineCode",{parentName:"li"},"gardener-controlplane")," Helm chart. by @oliver-goetz ","[#8308]"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"[DEVELOPER]")," Package ",(0,r.kt)("inlineCode",{parentName:"li"},"pkg/utils/managedresources")," now works with immutable secrets for managed resources under the hood. Existing secrets will be marked for garbage collection and replaced with immutable ones during the first reconciliation of the managed resource. by @dimityrmirchev ","[#8116]"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"[DEVELOPER]")," The ",(0,r.kt)("inlineCode",{parentName:"li"},"Secrets")," type as well as the ",(0,r.kt)("inlineCode",{parentName:"li"},"Delete")," functions for secrets were removed from ",(0,r.kt)("inlineCode",{parentName:"li"},"pkg/utils/managedresources/builder")," since their usage was prone to errors. The higher level package ",(0,r.kt)("inlineCode",{parentName:"li"},"pkg/utils/managedresources")," should be used instead. by @dimityrmirchev ","[#8116]"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"[DEPENDENCY]")," ",(0,r.kt)("inlineCode",{parentName:"li"},"hack/generate.sh")," has been renamed to ",(0,r.kt)("inlineCode",{parentName:"li"},"hack/generate-sequential.sh"),". by @shafeeqes ","[#8289]"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"[DEPENDENCY]")," The deprecated ",(0,r.kt)("inlineCode",{parentName:"li"},"extensions/pkg/controller/worker.{Options,ApplyMachineResources{ForConfig}}")," symbols have been dropped since ",(0,r.kt)("inlineCode",{parentName:"li"},"gardenlet")," takes over management of the ",(0,r.kt)("inlineCode",{parentName:"li"},"machine.gardener.cloud/v1alpha1")," API CRDs since ",(0,r.kt)("inlineCode",{parentName:"li"},"gardener/gardener@v1.73"),". by @rfranzke ","[#8280]"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"[OPERATOR]")," The ",(0,r.kt)("inlineCode",{parentName:"li"},"virtual-garden-kube-apiserver")," service (for the ",(0,r.kt)("inlineCode",{parentName:"li"},"virtual-garden")," cluster) was switched from type ",(0,r.kt)("inlineCode",{parentName:"li"},"LoadBalancer")," to ",(0,r.kt)("inlineCode",{parentName:"li"},"ClusterIP"),". Please make sure to migrate all DNS records from the ",(0,r.kt)("inlineCode",{parentName:"li"},"virtual-garden-kube-apiserver")," to the ",(0,r.kt)("inlineCode",{parentName:"li"},"istio-ingressgateway")," endpoint before upgrading to this Gardener version. by @timuthy ","[#8302]"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"[OPERATOR]")," ",(0,r.kt)("inlineCode",{parentName:"li"},"gardenlet")," no longer reports the ",(0,r.kt)("inlineCode",{parentName:"li"},"Bootstrapped")," condition on ",(0,r.kt)("inlineCode",{parentName:"li"},"Seed"),"s. Instead, it now reports the progress in ",(0,r.kt)("inlineCode",{parentName:"li"},".status.lastOperation"),", similar to how it's done for ",(0,r.kt)("inlineCode",{parentName:"li"},"Shoot"),"s. by @rfranzke ","[#8290]"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"[OPERATOR]")," ",(0,r.kt)("inlineCode",{parentName:"li"},"default-domain"),", ",(0,r.kt)("inlineCode",{parentName:"li"},"internal-domain"),", ",(0,r.kt)("inlineCode",{parentName:"li"},"alerting")," and ",(0,r.kt)("inlineCode",{parentName:"li"},"openvpn-diffie-hellman")," secrets are removed from ",(0,r.kt)("inlineCode",{parentName:"li"},"gardener-controlplane")," Helm chart. Please ensure to update them in a different way before upgrading Gardener. If you would like to prevent Helm from deleting these secret during the upgrade, you could annotate them with ",(0,r.kt)("inlineCode",{parentName:"li"},'"helm.sh/resource-policy": keep'),". by @oliver-goetz ","[#8308]")),(0,r.kt)("h2",{id:"-noteworthy-1"},"\ud83d\udcf0 Noteworthy"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"[DEVELOPER]")," The ",(0,r.kt)("inlineCode",{parentName:"li"},"charts/images.yaml")," file was moved to ",(0,r.kt)("inlineCode",{parentName:"li"},"imagevector/images.yaml"),". by @rfranzke ","[#8250]"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"[DEPENDENCY]")," ",(0,r.kt)("inlineCode",{parentName:"li"},"pkg/utils/chart")," does now support embedded charts. The already deprecated methods in the ",(0,r.kt)("inlineCode",{parentName:"li"},"ChartApplier")," and ",(0,r.kt)("inlineCode",{parentName:"li"},"ChartRenderer")," will be removed in a few releases, so extensions should adapt to embedded charts. by @rfranzke ","[#8250]"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"[OPERATOR]")," Gardenlet can now set feature gates for ",(0,r.kt)("inlineCode",{parentName:"li"},"etcd-druid"),". They can be specified via the gardenlet configuration ",(0,r.kt)("inlineCode",{parentName:"li"},"GardenletConfiguration.EtcdConfig.FeatureGates")," by @gardener-ci-robot ","[#8335]")),(0,r.kt)("h2",{id:"-new-features"},"\u2728 New Features"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"[OPERATOR]")," The garbage collection controller now also considers managed resources when deciding if secrets/configmaps should be garbage collected. by @dimityrmirchev ","[#8116]"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"[OPERATOR]")," Gardener Scheduler's Minimal Distance strategy can take scheduling decisions based on region distances configured by operators. This especially improves the allocation for shoots of providers regions for which the standard Levenshtein distance is inappropriate. Please see ",(0,r.kt)("inlineCode",{parentName:"li"},"docs/concepts/scheduler.md")," for more information. by @timuthy ","[#8277]"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"[OPERATOR]")," Operators can now view and manage dashboards for compaction jobs running in shoot control plane. by @abdasgupta ","[#8206]"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"[OPERATOR]")," ",(0,r.kt)("inlineCode",{parentName:"li"},"maintenance-controller")," now disables ",(0,r.kt)("inlineCode",{parentName:"li"},"PodSecurityPolicy")," admission controller when forcefully upgrading the Kubernetes version of a ",(0,r.kt)("inlineCode",{parentName:"li"},"Shoot")," to ",(0,r.kt)("inlineCode",{parentName:"li"},"v1.25"),". It also ensures maximum workers of each for group is greater or equal to its number of zone for forceful upgrades to ",(0,r.kt)("inlineCode",{parentName:"li"},"v1.27"),". by @oliver-goetz ","[#8281]"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"[OPERATOR]")," ",(0,r.kt)("inlineCode",{parentName:"li"},"kubectl get garden")," now features additional printer columns providing more information about the substantial configuration values and statuses. by @rfranzke ","[#8279]"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"[OPERATOR]")," The ",(0,r.kt)("inlineCode",{parentName:"li"},"gardener-apiserver")," now drops expired ",(0,r.kt)("inlineCode",{parentName:"li"},"Kubernetes")," and ",(0,r.kt)("inlineCode",{parentName:"li"},"MachineImage")," versions from ",(0,r.kt)("inlineCode",{parentName:"li"},"Cloudprofile"),"s during creation. by @shafeeqes ","[#8297]"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"[OPERATOR]")," ",(0,r.kt)("inlineCode",{parentName:"li"},"gardener-operator")," now takes over management of ",(0,r.kt)("inlineCode",{parentName:"li"},"fluent-operator")," and ",(0,r.kt)("inlineCode",{parentName:"li"},"vali"),". by @vlvasilev ","[#8240]"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"[USER]")," Two additional labels ",(0,r.kt)("inlineCode",{parentName:"li"},"worker.gardener.cloud/image-name")," and ",(0,r.kt)("inlineCode",{parentName:"li"},"worker.gardener.cloud/image-version")," are attached to worker nodes to identify which operating system they are running. This can then be used in selectors that target only workers with a specific operating system and is helpful for e.g. driver deployment. by @MrBatschner ","[#8295]"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"[USER]")," A new feature gate named ",(0,r.kt)("inlineCode",{parentName:"li"},"ContainerdRegistryHostsDir")," is introduced to gardenlet. When enabled, the ",(0,r.kt)("inlineCode",{parentName:"li"},"/etc/containerd/certs.d")," directory is created on the Node and containerd is configured to look up for registries/mirrors configuration in this directory (if there is any configuration applied). In future, the ",(0,r.kt)("a",{parentName:"li",href:"https://github.com/gardener/gardener-extension-registry-cache/"},"registry-cache extension")," will add such registries/mirrors configuration under this directory (via OperatingSystemConfig mutation). by @ialidzhikov ","[#8094]"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"[USER]")," The ",(0,r.kt)("inlineCode",{parentName:"li"},"Shoot")," maintenance controller now updates the CRI of worker pools from ",(0,r.kt)("inlineCode",{parentName:"li"},"docker")," to ",(0,r.kt)("inlineCode",{parentName:"li"},"containerd")," when force-upgrading from Kubernetes ",(0,r.kt)("inlineCode",{parentName:"li"},"v1.22")," to ",(0,r.kt)("inlineCode",{parentName:"li"},"v1.23"),". by @oliver-goetz ","[#8272]"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"[DEVELOPER]")," Extensions running on seed clusters can get access to the garden cluster by using the injected kubeconfig specified by the ",(0,r.kt)("inlineCode",{parentName:"li"},"GARDEN_KUBECONFIG")," environment variable. You can read about the details in this ",(0,r.kt)("a",{parentName:"li",href:"https://github.com/gardener/gardener/blob/master/docs/extensions/garden-api-access.md"},"doc"),". by @timebertt ","[#8264]")),(0,r.kt)("h2",{id:"-bug-fixes-8"},"\ud83d\udc1b Bug Fixes"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"[OPERATOR]")," When ",(0,r.kt)("inlineCode",{parentName:"li"},"Shoot"),"s were updated from non high-availability to ",(0,r.kt)("inlineCode",{parentName:"li"},"zone")," high-availability, it could happen that the control-plane was scheduled to two instead of three zones. This issue is relevant for cloud providers with an inconsistent zone naming (",(0,r.kt)("inlineCode",{parentName:"li"},"Azure")," is currently the only candidate to our knowledge).",(0,r.kt)("br",{parentName:"li"}),"Existing shoots with the before mentioned problem must be fixed manually be operators if required. An automatic move of ",(0,r.kt)("inlineCode",{parentName:"li"},"etcd"),"s and their volumes is not part of this fix due to availability reasons. by @gardener-ci-robot ","[#8345]"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"[OPERATOR]")," gardenlet: A regression causing metering related recording rules for the aggregate-prometheus not to be applied is now fixed. by @istvanballok ","[#8284]"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"[USER]")," An issue has been fixed for highly-available ",(0,r.kt)("inlineCode",{parentName:"li"},"Shoot"),"s whose ",(0,r.kt)("inlineCode",{parentName:"li"},"etcd")," clusters didn't get ready in the ",(0,r.kt)("inlineCode",{parentName:"li"},"Completing")," phase of a CA credentials rotation. by @timuthy ","[#8303]")),(0,r.kt)("h2",{id:"-others-7"},"\ud83c\udfc3 Others"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"[OPERATOR]")," A bug preventing ",(0,r.kt)("inlineCode",{parentName:"li"},"prometheus")," ingress to use ",(0,r.kt)("inlineCode",{parentName:"li"},"wildcard-certificate")," is fixed. by @acumino ","[#8319]"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"[OPERATOR]")," A bug preventing ",(0,r.kt)("inlineCode",{parentName:"li"},"plutono")," ingress to use ",(0,r.kt)("inlineCode",{parentName:"li"},"wildcard-certificate")," is fixed. by @acumino ","[#8317]"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"[OPERATOR]")," gardenlet: A regression preventing the alertmanager in the garden namespace from sending email notifications is now fixed. by @istvanballok ","[#8310]"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"[DEVELOPER]")," The ",(0,r.kt)("inlineCode",{parentName:"li"},"github.com/golang/mock/gomock")," dependency is replaced by ",(0,r.kt)("inlineCode",{parentName:"li"},"go.uber.org/mock"),". by @afritzler ","[#8269]"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"[DEVELOPER]")," Add failure tolerance option to the ",(0,r.kt)("inlineCode",{parentName:"li"},"CreateShoot")," test. by @hendrikKahl ","[#8298]")),(0,r.kt)("h1",{id:"gardeneretcd-druid"},"[gardener/etcd-druid]"),(0,r.kt)("h2",{id:"\ufe0f-breaking-changes-2"},"\u26a0\ufe0f Breaking Changes"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"[OPERATOR]")," \u26a0\ufe0f ",(0,r.kt)("inlineCode",{parentName:"li"},"etcd.Status.ClusterSize"),", ",(0,r.kt)("inlineCode",{parentName:"li"},"etcd.Status.ServiceName"),", ",(0,r.kt)("inlineCode",{parentName:"li"},"etcd.Status.UpdatedReplicas")," have been marked as deprecated and users should refrain from depending on these fields. by @unmarshall ","[gardener/etcd-druid#594]"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"[OPERATOR]")," File ownership for ",(0,r.kt)("inlineCode",{parentName:"li"},"var/etcd/data")," will be changed to non-root user (65532). by @aaronfern ","[gardener/etcd-druid#620]"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"[OPERATOR]")," Etcd-druid will now deploy distroless ",(0,r.kt)("inlineCode",{parentName:"li"},"etcd-wrapper")," and ",(0,r.kt)("inlineCode",{parentName:"li"},"etcd-backup-restore")," images. Please refer to ",(0,r.kt)("a",{parentName:"li",href:"https://github.com/gardener/etcd-wrapper"},"etcd-wrapper")," for more information. by @aaronfern ","[gardener/etcd-druid#620]"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"[OPERATOR]")," Etcd-related secrets will now be mounted onto the ",(0,r.kt)("inlineCode",{parentName:"li"},"/var/")," directory instead of ",(0,r.kt)("inlineCode",{parentName:"li"},"/root/"),". by @aaronfern ","[gardener/etcd-druid#620]"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"[DEVELOPER]")," Developer Action Required: The ",(0,r.kt)("inlineCode",{parentName:"li"},"make deploy")," command has been replaced with ",(0,r.kt)("inlineCode",{parentName:"li"},"make deploy-via-kustomize"),". Please update your deployment workflows accordingly. by @seshachalam-yv ","[gardener/etcd-druid#599]")),(0,r.kt)("h2",{id:"-new-features-1"},"\u2728 New Features"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"[DEVELOPER]")," Makefile has been updated to use ",(0,r.kt)("inlineCode",{parentName:"li"},"Skaffold")," for deploying ",(0,r.kt)("inlineCode",{parentName:"li"},"etcd-druid")," with the ",(0,r.kt)("inlineCode",{parentName:"li"},"make deploy")," target, simplifying the deployment process and eliminating the need to push the image to the container registry for each local development testing. by @seshachalam-yv ","[gardener/etcd-druid#599]"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"[OPERATOR]")," Feature gates have been introduced in etcd-druid, and can be specified using CLI flag ",(0,r.kt)("inlineCode",{parentName:"li"},"--feature-gate"),". by @aaronfern ","[gardener/etcd-druid#646]"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"[OPERATOR]")," Druid now exposes metrics related to snapshot compaction, on default port 8080. Please expose the desired metrics port via the etcd-druid service to allow metrics to be scraped by a Prometheus instance. by @abdasgupta ","[gardener/etcd-druid#569]"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"[OPERATOR]")," ",(0,r.kt)("inlineCode",{parentName:"li"},"UseEtcdWrapper")," feature gate has been introduced to allow users to opt for the new ",(0,r.kt)("a",{parentName:"li",href:"https://github.com/gardener/etcd-wrapper"},"etcd-wrapper")," image. by @aaronfern ","[gardener/etcd-druid#646]")),(0,r.kt)("h2",{id:"-bug-fixes-9"},"\ud83d\udc1b Bug Fixes"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"[OPERATOR]")," A bug causing incorrect volume mount path for ",(0,r.kt)("inlineCode",{parentName:"li"},"Etcd"),"s and ",(0,r.kt)("inlineCode",{parentName:"li"},"EtcdCopyBackupsTask"),"s using ",(0,r.kt)("inlineCode",{parentName:"li"},"Local")," snapshot storage provider while using distroless etcd-backup-restore image ",(0,r.kt)("inlineCode",{parentName:"li"},"v0.25.x")," has been resolved. by @aaronfern ","[gardener/etcd-druid#662]"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"[OPERATOR]")," ",(0,r.kt)("inlineCode",{parentName:"li"},"AllMembersReady")," condition has now been fixed to eventually show the correct overall readiness of an etcd cluster. by @unmarshall ","[gardener/etcd-druid#594]"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"[OPERATOR]")," A bug causing ",(0,r.kt)("inlineCode",{parentName:"li"},"EtcdCopyBackupsTask")," jobs to fail to create temp snapshot directory while using distroless etcd-backup-restore image ",(0,r.kt)("inlineCode",{parentName:"li"},"v0.25.x")," has been resolved. by @aaronfern ","[gardener/etcd-druid#662]")),(0,r.kt)("h2",{id:"-others-8"},"\ud83c\udfc3 Others"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"[OPERATOR]")," Print build version and go runtime info. by @shreyas-s-rao ","[gardener/etcd-druid#636]"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"[OPERATOR]")," Bumped up the custom image version to v3.4.13-bootstrap-11 by @abdasgupta ","[gardener/etcd-druid#623]"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"[OPERATOR]")," When scaling from single-node to multi-node etcd cluster, Etcd Druid will now first ensure that any change to the peer URL (e.g TLS enablement)  is seen by the existing etcd process running within the etcd member pod. Once that is confirmed then it will scale up the Etcd StatefulSet and add relevant annotations. by @unmarshall ","[gardener/etcd-druid#598]"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"[DEVELOPER]")," Refactored ",(0,r.kt)("inlineCode",{parentName:"li"},"statefulset"),", ",(0,r.kt)("inlineCode",{parentName:"li"},"service"),", ",(0,r.kt)("inlineCode",{parentName:"li"},"poddisruptionbudget"),", ",(0,r.kt)("inlineCode",{parentName:"li"},"lease"),", and ",(0,r.kt)("inlineCode",{parentName:"li"},"configmap")," components to use default labels and owner references from ",(0,r.kt)("inlineCode",{parentName:"li"},"etcd"),". by @seshachalam-yv ","[gardener/etcd-druid#559]"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"[DEVELOPER]")," Add CVE categorization for etcd-druid. by @shreyas-s-rao ","[gardener/etcd-druid#634]")),(0,r.kt)("h1",{id:"gardenervpn2"},"[gardener/vpn2]"),(0,r.kt)("h2",{id:"-noteworthy-2"},"\ud83d\udcf0 Noteworthy"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"[OPERATOR]")," Bump builder image golang from ",(0,r.kt)("inlineCode",{parentName:"li"},"1.20.4")," to ",(0,r.kt)("inlineCode",{parentName:"li"},"1.20.6"),"  by @axel7born ","[gardener/vpn2#33]")),(0,r.kt)("h1",{id:"gardenerhvpa-controller"},"[gardener/hvpa-controller]"),(0,r.kt)("h2",{id:"-bug-fixes-10"},"\ud83d\udc1b Bug Fixes"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"[OPERATOR]")," Fixed a bug that caused HVPA reconciliation to fail with ",(0,r.kt)("inlineCode",{parentName:"li"},"expected pointer, but got v2beta1.MetricSpec type")," when the HPA spec had changed. by @voelzmo ","[gardener/hvpa-controller#125]"))),(0,r.kt)("details",null,(0,r.kt)("summary",null,(0,r.kt)("b",null,"Update gardener-controlplane to ",(0,r.kt)("code",null,"1.77.0"))),(0,r.kt)("h1",{id:"gardeneretcd-backup-restore-1"},"[gardener/etcd-backup-restore]"),(0,r.kt)("h2",{id:"-noteworthy-3"},"\ud83d\udcf0 Noteworthy"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"[OPERATOR]")," Etcd-backup-restore now uses a distroless image as its base image. It is no longer compatible with ",(0,r.kt)("a",{parentName:"li",href:"https://github.com/gardener/etcd-custom-image"},"etcd-custom-image"),", and must be used with ",(0,r.kt)("a",{parentName:"li",href:"https://github.com/gardener/etcd-wrapper"},"etcd-wrapper")," instead.  by @aaronfern ","[gardener/etcd-backup-restore#637]"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"[OPERATOR]")," Etcd-backup-restore now uses the user home directory to create files. by @aaronfern ","[gardener/etcd-backup-restore#637]")),(0,r.kt)("h2",{id:"-others-9"},"\ud83c\udfc3 Others"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"[OPERATOR]")," While scaling up a non-HA etcd cluster to HA skipping the scale-up checks for first member of etcd cluster as first member can never be a part of scale-up scenarios. by @ishan16696 ","[gardener/etcd-backup-restore#649]"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"[OPERATOR]")," Backup-restore waits for its etcd to be ready before attempting to update peerUrl by @aaronfern ","[gardener/etcd-backup-restore#628]"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"[DEVELOPER]")," Add CVE categorization for etcd-backup-restore. by @shreyas-s-rao ","[gardener/etcd-backup-restore#644]")),(0,r.kt)("h1",{id:"gardenergardener-7"},"[gardener/gardener]"),(0,r.kt)("h2",{id:"\ufe0f-breaking-changes-3"},"\u26a0\ufe0f Breaking Changes"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"[DEVELOPER]")," If you are using ",(0,r.kt)("inlineCode",{parentName:"li"},"provider-extension")," setup you should adapt your files in ",(0,r.kt)("inlineCode",{parentName:"li"},"example/provider-extensions/garden/controlplane")," because ",(0,r.kt)("inlineCode",{parentName:"li"},"default-domain")," and ",(0,r.kt)("inlineCode",{parentName:"li"},"internal-domain")," secrets are removed from ",(0,r.kt)("inlineCode",{parentName:"li"},"gardener-controlplane")," Helm chart. by @oliver-goetz ","[#8308]"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"[DEVELOPER]")," Package ",(0,r.kt)("inlineCode",{parentName:"li"},"pkg/utils/managedresources")," now works with immutable secrets for managed resources under the hood. Existing secrets will be marked for garbage collection and replaced with immutable ones during the first reconciliation of the managed resource. by @dimityrmirchev ","[#8116]"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"[DEVELOPER]")," The ",(0,r.kt)("inlineCode",{parentName:"li"},"Secrets")," type as well as the ",(0,r.kt)("inlineCode",{parentName:"li"},"Delete")," functions for secrets were removed from ",(0,r.kt)("inlineCode",{parentName:"li"},"pkg/utils/managedresources/builder")," since their usage was prone to errors. The higher level package ",(0,r.kt)("inlineCode",{parentName:"li"},"pkg/utils/managedresources")," should be used instead. by @dimityrmirchev ","[#8116]"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"[DEPENDENCY]")," ",(0,r.kt)("inlineCode",{parentName:"li"},"hack/generate.sh")," has been renamed to ",(0,r.kt)("inlineCode",{parentName:"li"},"hack/generate-sequential.sh"),". by @shafeeqes ","[#8289]"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"[DEPENDENCY]")," The deprecated ",(0,r.kt)("inlineCode",{parentName:"li"},"extensions/pkg/controller/worker.{Options,ApplyMachineResources{ForConfig}}")," symbols have been dropped since ",(0,r.kt)("inlineCode",{parentName:"li"},"gardenlet")," takes over management of the ",(0,r.kt)("inlineCode",{parentName:"li"},"machine.gardener.cloud/v1alpha1")," API CRDs since ",(0,r.kt)("inlineCode",{parentName:"li"},"gardener/gardener@v1.73"),". by @rfranzke ","[#8280]"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"[OPERATOR]")," The ",(0,r.kt)("inlineCode",{parentName:"li"},"virtual-garden-kube-apiserver")," service (for the ",(0,r.kt)("inlineCode",{parentName:"li"},"virtual-garden")," cluster) was switched from type ",(0,r.kt)("inlineCode",{parentName:"li"},"LoadBalancer")," to ",(0,r.kt)("inlineCode",{parentName:"li"},"ClusterIP"),". Please make sure to migrate all DNS records from the ",(0,r.kt)("inlineCode",{parentName:"li"},"virtual-garden-kube-apiserver")," to the ",(0,r.kt)("inlineCode",{parentName:"li"},"istio-ingressgateway")," endpoint before upgrading to this Gardener version. by @timuthy ","[#8302]"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"[OPERATOR]")," ",(0,r.kt)("inlineCode",{parentName:"li"},"gardenlet")," no longer reports the ",(0,r.kt)("inlineCode",{parentName:"li"},"Bootstrapped")," condition on ",(0,r.kt)("inlineCode",{parentName:"li"},"Seed"),"s. Instead, it now reports the progress in ",(0,r.kt)("inlineCode",{parentName:"li"},".status.lastOperation"),", similar to how it's done for ",(0,r.kt)("inlineCode",{parentName:"li"},"Shoot"),"s. by @rfranzke ","[#8290]"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"[OPERATOR]")," ",(0,r.kt)("inlineCode",{parentName:"li"},"default-domain"),", ",(0,r.kt)("inlineCode",{parentName:"li"},"internal-domain"),", ",(0,r.kt)("inlineCode",{parentName:"li"},"alerting")," and ",(0,r.kt)("inlineCode",{parentName:"li"},"openvpn-diffie-hellman")," secrets are removed from ",(0,r.kt)("inlineCode",{parentName:"li"},"gardener-controlplane")," Helm chart. Please ensure to update them in a different way before upgrading Gardener. If you would like to prevent Helm from deleting these secret during the upgrade, you could annotate them with ",(0,r.kt)("inlineCode",{parentName:"li"},'"helm.sh/resource-policy": keep'),". by @oliver-goetz ","[#8308]")),(0,r.kt)("h2",{id:"-noteworthy-4"},"\ud83d\udcf0 Noteworthy"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"[DEVELOPER]")," The ",(0,r.kt)("inlineCode",{parentName:"li"},"charts/images.yaml")," file was moved to ",(0,r.kt)("inlineCode",{parentName:"li"},"imagevector/images.yaml"),". by @rfranzke ","[#8250]"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"[DEPENDENCY]")," ",(0,r.kt)("inlineCode",{parentName:"li"},"pkg/utils/chart")," does now support embedded charts. The already deprecated methods in the ",(0,r.kt)("inlineCode",{parentName:"li"},"ChartApplier")," and ",(0,r.kt)("inlineCode",{parentName:"li"},"ChartRenderer")," will be removed in a few releases, so extensions should adapt to embedded charts. by @rfranzke ","[#8250]"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"[OPERATOR]")," Gardenlet can now set feature gates for ",(0,r.kt)("inlineCode",{parentName:"li"},"etcd-druid"),". They can be specified via the gardenlet configuration ",(0,r.kt)("inlineCode",{parentName:"li"},"GardenletConfiguration.EtcdConfig.FeatureGates")," by @gardener-ci-robot ","[#8335]")),(0,r.kt)("h2",{id:"-new-features-2"},"\u2728 New Features"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"[OPERATOR]")," The garbage collection controller now also considers managed resources when deciding if secrets/configmaps should be garbage collected. by @dimityrmirchev ","[#8116]"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"[OPERATOR]")," Gardener Scheduler's Minimal Distance strategy can take scheduling decisions based on region distances configured by operators. This especially improves the allocation for shoots of providers regions for which the standard Levenshtein distance is inappropriate. Please see ",(0,r.kt)("inlineCode",{parentName:"li"},"docs/concepts/scheduler.md")," for more information. by @timuthy ","[#8277]"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"[OPERATOR]")," Operators can now view and manage dashboards for compaction jobs running in shoot control plane. by @abdasgupta ","[#8206]"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"[OPERATOR]")," ",(0,r.kt)("inlineCode",{parentName:"li"},"maintenance-controller")," now disables ",(0,r.kt)("inlineCode",{parentName:"li"},"PodSecurityPolicy")," admission controller when forcefully upgrading the Kubernetes version of a ",(0,r.kt)("inlineCode",{parentName:"li"},"Shoot")," to ",(0,r.kt)("inlineCode",{parentName:"li"},"v1.25"),". It also ensures maximum workers of each for group is greater or equal to its number of zone for forceful upgrades to ",(0,r.kt)("inlineCode",{parentName:"li"},"v1.27"),". by @oliver-goetz ","[#8281]"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"[OPERATOR]")," ",(0,r.kt)("inlineCode",{parentName:"li"},"kubectl get garden")," now features additional printer columns providing more information about the substantial configuration values and statuses. by @rfranzke ","[#8279]"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"[OPERATOR]")," The ",(0,r.kt)("inlineCode",{parentName:"li"},"gardener-apiserver")," now drops expired ",(0,r.kt)("inlineCode",{parentName:"li"},"Kubernetes")," and ",(0,r.kt)("inlineCode",{parentName:"li"},"MachineImage")," versions from ",(0,r.kt)("inlineCode",{parentName:"li"},"Cloudprofile"),"s during creation. by @shafeeqes ","[#8297]"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"[OPERATOR]")," ",(0,r.kt)("inlineCode",{parentName:"li"},"gardener-operator")," now takes over management of ",(0,r.kt)("inlineCode",{parentName:"li"},"fluent-operator")," and ",(0,r.kt)("inlineCode",{parentName:"li"},"vali"),". by @vlvasilev ","[#8240]"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"[USER]")," Two additional labels ",(0,r.kt)("inlineCode",{parentName:"li"},"worker.gardener.cloud/image-name")," and ",(0,r.kt)("inlineCode",{parentName:"li"},"worker.gardener.cloud/image-version")," are attached to worker nodes to identify which operating system they are running. This can then be used in selectors that target only workers with a specific operating system and is helpful for e.g. driver deployment. by @MrBatschner ","[#8295]"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"[USER]")," A new feature gate named ",(0,r.kt)("inlineCode",{parentName:"li"},"ContainerdRegistryHostsDir")," is introduced to gardenlet. When enabled, the ",(0,r.kt)("inlineCode",{parentName:"li"},"/etc/containerd/certs.d")," directory is created on the Node and containerd is configured to look up for registries/mirrors configuration in this directory (if there is any configuration applied). In future, the ",(0,r.kt)("a",{parentName:"li",href:"https://github.com/gardener/gardener-extension-registry-cache/"},"registry-cache extension")," will add such registries/mirrors configuration under this directory (via OperatingSystemConfig mutation). by @ialidzhikov ","[#8094]"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"[USER]")," The ",(0,r.kt)("inlineCode",{parentName:"li"},"Shoot")," maintenance controller now updates the CRI of worker pools from ",(0,r.kt)("inlineCode",{parentName:"li"},"docker")," to ",(0,r.kt)("inlineCode",{parentName:"li"},"containerd")," when force-upgrading from Kubernetes ",(0,r.kt)("inlineCode",{parentName:"li"},"v1.22")," to ",(0,r.kt)("inlineCode",{parentName:"li"},"v1.23"),". by @oliver-goetz ","[#8272]"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"[DEVELOPER]")," Extensions running on seed clusters can get access to the garden cluster by using the injected kubeconfig specified by the ",(0,r.kt)("inlineCode",{parentName:"li"},"GARDEN_KUBECONFIG")," environment variable. You can read about the details in this ",(0,r.kt)("a",{parentName:"li",href:"https://github.com/gardener/gardener/blob/master/docs/extensions/garden-api-access.md"},"doc"),". by @timebertt ","[#8264]")),(0,r.kt)("h2",{id:"-bug-fixes-11"},"\ud83d\udc1b Bug Fixes"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"[OPERATOR]")," When ",(0,r.kt)("inlineCode",{parentName:"li"},"Shoot"),"s were updated from non high-availability to ",(0,r.kt)("inlineCode",{parentName:"li"},"zone")," high-availability, it could happen that the control-plane was scheduled to two instead of three zones. This issue is relevant for cloud providers with an inconsistent zone naming (",(0,r.kt)("inlineCode",{parentName:"li"},"Azure")," is currently the only candidate to our knowledge).",(0,r.kt)("br",{parentName:"li"}),"Existing shoots with the before mentioned problem must be fixed manually be operators if required. An automatic move of ",(0,r.kt)("inlineCode",{parentName:"li"},"etcd"),"s and their volumes is not part of this fix due to availability reasons. by @gardener-ci-robot ","[#8345]"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"[OPERATOR]")," gardenlet: A regression causing metering related recording rules for the aggregate-prometheus not to be applied is now fixed. by @istvanballok ","[#8284]"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"[USER]")," An issue has been fixed for highly-available ",(0,r.kt)("inlineCode",{parentName:"li"},"Shoot"),"s whose ",(0,r.kt)("inlineCode",{parentName:"li"},"etcd")," clusters didn't get ready in the ",(0,r.kt)("inlineCode",{parentName:"li"},"Completing")," phase of a CA credentials rotation. by @timuthy ","[#8303]")),(0,r.kt)("h2",{id:"-others-10"},"\ud83c\udfc3 Others"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"[OPERATOR]")," A bug preventing ",(0,r.kt)("inlineCode",{parentName:"li"},"prometheus")," ingress to use ",(0,r.kt)("inlineCode",{parentName:"li"},"wildcard-certificate")," is fixed. by @acumino ","[#8319]"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"[OPERATOR]")," A bug preventing ",(0,r.kt)("inlineCode",{parentName:"li"},"plutono")," ingress to use ",(0,r.kt)("inlineCode",{parentName:"li"},"wildcard-certificate")," is fixed. by @acumino ","[#8317]"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"[OPERATOR]")," gardenlet: A regression preventing the alertmanager in the garden namespace from sending email notifications is now fixed. by @istvanballok ","[#8310]"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"[DEVELOPER]")," The ",(0,r.kt)("inlineCode",{parentName:"li"},"github.com/golang/mock/gomock")," dependency is replaced by ",(0,r.kt)("inlineCode",{parentName:"li"},"go.uber.org/mock"),". by @afritzler ","[#8269]"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"[DEVELOPER]")," Add failure tolerance option to the ",(0,r.kt)("inlineCode",{parentName:"li"},"CreateShoot")," test. by @hendrikKahl ","[#8298]")),(0,r.kt)("h1",{id:"gardeneretcd-druid-1"},"[gardener/etcd-druid]"),(0,r.kt)("h2",{id:"\ufe0f-breaking-changes-4"},"\u26a0\ufe0f Breaking Changes"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"[OPERATOR]")," \u26a0\ufe0f ",(0,r.kt)("inlineCode",{parentName:"li"},"etcd.Status.ClusterSize"),", ",(0,r.kt)("inlineCode",{parentName:"li"},"etcd.Status.ServiceName"),", ",(0,r.kt)("inlineCode",{parentName:"li"},"etcd.Status.UpdatedReplicas")," have been marked as deprecated and users should refrain from depending on these fields. by @unmarshall ","[gardener/etcd-druid#594]"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"[OPERATOR]")," File ownership for ",(0,r.kt)("inlineCode",{parentName:"li"},"var/etcd/data")," will be changed to non-root user (65532). by @aaronfern ","[gardener/etcd-druid#620]"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"[OPERATOR]")," Etcd-druid will now deploy distroless ",(0,r.kt)("inlineCode",{parentName:"li"},"etcd-wrapper")," and ",(0,r.kt)("inlineCode",{parentName:"li"},"etcd-backup-restore")," images. Please refer to ",(0,r.kt)("a",{parentName:"li",href:"https://github.com/gardener/etcd-wrapper"},"etcd-wrapper")," for more information. by @aaronfern ","[gardener/etcd-druid#620]"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"[OPERATOR]")," Etcd-related secrets will now be mounted onto the ",(0,r.kt)("inlineCode",{parentName:"li"},"/var/")," directory instead of ",(0,r.kt)("inlineCode",{parentName:"li"},"/root/"),". by @aaronfern ","[gardener/etcd-druid#620]"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"[DEVELOPER]")," Developer Action Required: The ",(0,r.kt)("inlineCode",{parentName:"li"},"make deploy")," command has been replaced with ",(0,r.kt)("inlineCode",{parentName:"li"},"make deploy-via-kustomize"),". Please update your deployment workflows accordingly. by @seshachalam-yv ","[gardener/etcd-druid#599]")),(0,r.kt)("h2",{id:"-new-features-3"},"\u2728 New Features"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"[DEVELOPER]")," Makefile has been updated to use ",(0,r.kt)("inlineCode",{parentName:"li"},"Skaffold")," for deploying ",(0,r.kt)("inlineCode",{parentName:"li"},"etcd-druid")," with the ",(0,r.kt)("inlineCode",{parentName:"li"},"make deploy")," target, simplifying the deployment process and eliminating the need to push the image to the container registry for each local development testing. by @seshachalam-yv ","[gardener/etcd-druid#599]"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"[OPERATOR]")," Feature gates have been introduced in etcd-druid, and can be specified using CLI flag ",(0,r.kt)("inlineCode",{parentName:"li"},"--feature-gate"),". by @aaronfern ","[gardener/etcd-druid#646]"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"[OPERATOR]")," Druid now exposes metrics related to snapshot compaction, on default port 8080. Please expose the desired metrics port via the etcd-druid service to allow metrics to be scraped by a Prometheus instance. by @abdasgupta ","[gardener/etcd-druid#569]"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"[OPERATOR]")," ",(0,r.kt)("inlineCode",{parentName:"li"},"UseEtcdWrapper")," feature gate has been introduced to allow users to opt for the new ",(0,r.kt)("a",{parentName:"li",href:"https://github.com/gardener/etcd-wrapper"},"etcd-wrapper")," image. by @aaronfern ","[gardener/etcd-druid#646]")),(0,r.kt)("h2",{id:"-bug-fixes-12"},"\ud83d\udc1b Bug Fixes"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"[OPERATOR]")," A bug causing incorrect volume mount path for ",(0,r.kt)("inlineCode",{parentName:"li"},"Etcd"),"s and ",(0,r.kt)("inlineCode",{parentName:"li"},"EtcdCopyBackupsTask"),"s using ",(0,r.kt)("inlineCode",{parentName:"li"},"Local")," snapshot storage provider while using distroless etcd-backup-restore image ",(0,r.kt)("inlineCode",{parentName:"li"},"v0.25.x")," has been resolved. by @aaronfern ","[gardener/etcd-druid#662]"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"[OPERATOR]")," ",(0,r.kt)("inlineCode",{parentName:"li"},"AllMembersReady")," condition has now been fixed to eventually show the correct overall readiness of an etcd cluster. by @unmarshall ","[gardener/etcd-druid#594]"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"[OPERATOR]")," A bug causing ",(0,r.kt)("inlineCode",{parentName:"li"},"EtcdCopyBackupsTask")," jobs to fail to create temp snapshot directory while using distroless etcd-backup-restore image ",(0,r.kt)("inlineCode",{parentName:"li"},"v0.25.x")," has been resolved. by @aaronfern ","[gardener/etcd-druid#662]")),(0,r.kt)("h2",{id:"-others-11"},"\ud83c\udfc3 Others"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"[OPERATOR]")," Print build version and go runtime info. by @shreyas-s-rao ","[gardener/etcd-druid#636]"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"[OPERATOR]")," Bumped up the custom image version to v3.4.13-bootstrap-11 by @abdasgupta ","[gardener/etcd-druid#623]"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"[OPERATOR]")," When scaling from single-node to multi-node etcd cluster, Etcd Druid will now first ensure that any change to the peer URL (e.g TLS enablement)  is seen by the existing etcd process running within the etcd member pod. Once that is confirmed then it will scale up the Etcd StatefulSet and add relevant annotations. by @unmarshall ","[gardener/etcd-druid#598]"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"[DEVELOPER]")," Refactored ",(0,r.kt)("inlineCode",{parentName:"li"},"statefulset"),", ",(0,r.kt)("inlineCode",{parentName:"li"},"service"),", ",(0,r.kt)("inlineCode",{parentName:"li"},"poddisruptionbudget"),", ",(0,r.kt)("inlineCode",{parentName:"li"},"lease"),", and ",(0,r.kt)("inlineCode",{parentName:"li"},"configmap")," components to use default labels and owner references from ",(0,r.kt)("inlineCode",{parentName:"li"},"etcd"),". by @seshachalam-yv ","[gardener/etcd-druid#559]"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"[DEVELOPER]")," Add CVE categorization for etcd-druid. by @shreyas-s-rao ","[gardener/etcd-druid#634]")),(0,r.kt)("h1",{id:"gardenervpn2-1"},"[gardener/vpn2]"),(0,r.kt)("h2",{id:"-noteworthy-5"},"\ud83d\udcf0 Noteworthy"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"[OPERATOR]")," Bump builder image golang from ",(0,r.kt)("inlineCode",{parentName:"li"},"1.20.4")," to ",(0,r.kt)("inlineCode",{parentName:"li"},"1.20.6"),"  by @axel7born ","[gardener/vpn2#33]")),(0,r.kt)("h1",{id:"gardenerhvpa-controller-1"},"[gardener/hvpa-controller]"),(0,r.kt)("h2",{id:"-bug-fixes-13"},"\ud83d\udc1b Bug Fixes"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"[OPERATOR]")," Fixed a bug that caused HVPA reconciliation to fail with ",(0,r.kt)("inlineCode",{parentName:"li"},"expected pointer, but got v2beta1.MetricSpec type")," when the HPA spec had changed. by @voelzmo ","[gardener/hvpa-controller#125]"))),(0,r.kt)("details",null,(0,r.kt)("summary",null,(0,r.kt)("b",null,"Update gardenlet to ",(0,r.kt)("code",null,"1.77.0"))),(0,r.kt)("h1",{id:"gardeneretcd-backup-restore-2"},"[gardener/etcd-backup-restore]"),(0,r.kt)("h2",{id:"-noteworthy-6"},"\ud83d\udcf0 Noteworthy"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"[OPERATOR]")," Etcd-backup-restore now uses a distroless image as its base image. It is no longer compatible with ",(0,r.kt)("a",{parentName:"li",href:"https://github.com/gardener/etcd-custom-image"},"etcd-custom-image"),", and must be used with ",(0,r.kt)("a",{parentName:"li",href:"https://github.com/gardener/etcd-wrapper"},"etcd-wrapper")," instead.  by @aaronfern ","[gardener/etcd-backup-restore#637]"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"[OPERATOR]")," Etcd-backup-restore now uses the user home directory to create files. by @aaronfern ","[gardener/etcd-backup-restore#637]")),(0,r.kt)("h2",{id:"-others-12"},"\ud83c\udfc3 Others"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"[OPERATOR]")," While scaling up a non-HA etcd cluster to HA skipping the scale-up checks for first member of etcd cluster as first member can never be a part of scale-up scenarios. by @ishan16696 ","[gardener/etcd-backup-restore#649]"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"[OPERATOR]")," Backup-restore waits for its etcd to be ready before attempting to update peerUrl by @aaronfern ","[gardener/etcd-backup-restore#628]"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"[DEVELOPER]")," Add CVE categorization for etcd-backup-restore. by @shreyas-s-rao ","[gardener/etcd-backup-restore#644]")),(0,r.kt)("h1",{id:"gardenergardener-8"},"[gardener/gardener]"),(0,r.kt)("h2",{id:"\ufe0f-breaking-changes-5"},"\u26a0\ufe0f Breaking Changes"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"[DEVELOPER]")," If you are using ",(0,r.kt)("inlineCode",{parentName:"li"},"provider-extension")," setup you should adapt your files in ",(0,r.kt)("inlineCode",{parentName:"li"},"example/provider-extensions/garden/controlplane")," because ",(0,r.kt)("inlineCode",{parentName:"li"},"default-domain")," and ",(0,r.kt)("inlineCode",{parentName:"li"},"internal-domain")," secrets are removed from ",(0,r.kt)("inlineCode",{parentName:"li"},"gardener-controlplane")," Helm chart. by @oliver-goetz ","[#8308]"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"[DEVELOPER]")," Package ",(0,r.kt)("inlineCode",{parentName:"li"},"pkg/utils/managedresources")," now works with immutable secrets for managed resources under the hood. Existing secrets will be marked for garbage collection and replaced with immutable ones during the first reconciliation of the managed resource. by @dimityrmirchev ","[#8116]"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"[DEVELOPER]")," The ",(0,r.kt)("inlineCode",{parentName:"li"},"Secrets")," type as well as the ",(0,r.kt)("inlineCode",{parentName:"li"},"Delete")," functions for secrets were removed from ",(0,r.kt)("inlineCode",{parentName:"li"},"pkg/utils/managedresources/builder")," since their usage was prone to errors. The higher level package ",(0,r.kt)("inlineCode",{parentName:"li"},"pkg/utils/managedresources")," should be used instead. by @dimityrmirchev ","[#8116]"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"[DEPENDENCY]")," ",(0,r.kt)("inlineCode",{parentName:"li"},"hack/generate.sh")," has been renamed to ",(0,r.kt)("inlineCode",{parentName:"li"},"hack/generate-sequential.sh"),". by @shafeeqes ","[#8289]"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"[DEPENDENCY]")," The deprecated ",(0,r.kt)("inlineCode",{parentName:"li"},"extensions/pkg/controller/worker.{Options,ApplyMachineResources{ForConfig}}")," symbols have been dropped since ",(0,r.kt)("inlineCode",{parentName:"li"},"gardenlet")," takes over management of the ",(0,r.kt)("inlineCode",{parentName:"li"},"machine.gardener.cloud/v1alpha1")," API CRDs since ",(0,r.kt)("inlineCode",{parentName:"li"},"gardener/gardener@v1.73"),". by @rfranzke ","[#8280]"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"[OPERATOR]")," The ",(0,r.kt)("inlineCode",{parentName:"li"},"virtual-garden-kube-apiserver")," service (for the ",(0,r.kt)("inlineCode",{parentName:"li"},"virtual-garden")," cluster) was switched from type ",(0,r.kt)("inlineCode",{parentName:"li"},"LoadBalancer")," to ",(0,r.kt)("inlineCode",{parentName:"li"},"ClusterIP"),". Please make sure to migrate all DNS records from the ",(0,r.kt)("inlineCode",{parentName:"li"},"virtual-garden-kube-apiserver")," to the ",(0,r.kt)("inlineCode",{parentName:"li"},"istio-ingressgateway")," endpoint before upgrading to this Gardener version. by @timuthy ","[#8302]"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"[OPERATOR]")," ",(0,r.kt)("inlineCode",{parentName:"li"},"gardenlet")," no longer reports the ",(0,r.kt)("inlineCode",{parentName:"li"},"Bootstrapped")," condition on ",(0,r.kt)("inlineCode",{parentName:"li"},"Seed"),"s. Instead, it now reports the progress in ",(0,r.kt)("inlineCode",{parentName:"li"},".status.lastOperation"),", similar to how it's done for ",(0,r.kt)("inlineCode",{parentName:"li"},"Shoot"),"s. by @rfranzke ","[#8290]"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"[OPERATOR]")," ",(0,r.kt)("inlineCode",{parentName:"li"},"default-domain"),", ",(0,r.kt)("inlineCode",{parentName:"li"},"internal-domain"),", ",(0,r.kt)("inlineCode",{parentName:"li"},"alerting")," and ",(0,r.kt)("inlineCode",{parentName:"li"},"openvpn-diffie-hellman")," secrets are removed from ",(0,r.kt)("inlineCode",{parentName:"li"},"gardener-controlplane")," Helm chart. Please ensure to update them in a different way before upgrading Gardener. If you would like to prevent Helm from deleting these secret during the upgrade, you could annotate them with ",(0,r.kt)("inlineCode",{parentName:"li"},'"helm.sh/resource-policy": keep'),". by @oliver-goetz ","[#8308]")),(0,r.kt)("h2",{id:"-noteworthy-7"},"\ud83d\udcf0 Noteworthy"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"[DEVELOPER]")," The ",(0,r.kt)("inlineCode",{parentName:"li"},"charts/images.yaml")," file was moved to ",(0,r.kt)("inlineCode",{parentName:"li"},"imagevector/images.yaml"),". by @rfranzke ","[#8250]"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"[DEPENDENCY]")," ",(0,r.kt)("inlineCode",{parentName:"li"},"pkg/utils/chart")," does now support embedded charts. The already deprecated methods in the ",(0,r.kt)("inlineCode",{parentName:"li"},"ChartApplier")," and ",(0,r.kt)("inlineCode",{parentName:"li"},"ChartRenderer")," will be removed in a few releases, so extensions should adapt to embedded charts. by @rfranzke ","[#8250]"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"[OPERATOR]")," Gardenlet can now set feature gates for ",(0,r.kt)("inlineCode",{parentName:"li"},"etcd-druid"),". They can be specified via the gardenlet configuration ",(0,r.kt)("inlineCode",{parentName:"li"},"GardenletConfiguration.EtcdConfig.FeatureGates")," by @gardener-ci-robot ","[#8335]")),(0,r.kt)("h2",{id:"-new-features-4"},"\u2728 New Features"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"[OPERATOR]")," The garbage collection controller now also considers managed resources when deciding if secrets/configmaps should be garbage collected. by @dimityrmirchev ","[#8116]"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"[OPERATOR]")," Gardener Scheduler's Minimal Distance strategy can take scheduling decisions based on region distances configured by operators. This especially improves the allocation for shoots of providers regions for which the standard Levenshtein distance is inappropriate. Please see ",(0,r.kt)("inlineCode",{parentName:"li"},"docs/concepts/scheduler.md")," for more information. by @timuthy ","[#8277]"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"[OPERATOR]")," Operators can now view and manage dashboards for compaction jobs running in shoot control plane. by @abdasgupta ","[#8206]"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"[OPERATOR]")," ",(0,r.kt)("inlineCode",{parentName:"li"},"maintenance-controller")," now disables ",(0,r.kt)("inlineCode",{parentName:"li"},"PodSecurityPolicy")," admission controller when forcefully upgrading the Kubernetes version of a ",(0,r.kt)("inlineCode",{parentName:"li"},"Shoot")," to ",(0,r.kt)("inlineCode",{parentName:"li"},"v1.25"),". It also ensures maximum workers of each for group is greater or equal to its number of zone for forceful upgrades to ",(0,r.kt)("inlineCode",{parentName:"li"},"v1.27"),". by @oliver-goetz ","[#8281]"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"[OPERATOR]")," ",(0,r.kt)("inlineCode",{parentName:"li"},"kubectl get garden")," now features additional printer columns providing more information about the substantial configuration values and statuses. by @rfranzke ","[#8279]"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"[OPERATOR]")," The ",(0,r.kt)("inlineCode",{parentName:"li"},"gardener-apiserver")," now drops expired ",(0,r.kt)("inlineCode",{parentName:"li"},"Kubernetes")," and ",(0,r.kt)("inlineCode",{parentName:"li"},"MachineImage")," versions from ",(0,r.kt)("inlineCode",{parentName:"li"},"Cloudprofile"),"s during creation. by @shafeeqes ","[#8297]"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"[OPERATOR]")," ",(0,r.kt)("inlineCode",{parentName:"li"},"gardener-operator")," now takes over management of ",(0,r.kt)("inlineCode",{parentName:"li"},"fluent-operator")," and ",(0,r.kt)("inlineCode",{parentName:"li"},"vali"),". by @vlvasilev ","[#8240]"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"[USER]")," Two additional labels ",(0,r.kt)("inlineCode",{parentName:"li"},"worker.gardener.cloud/image-name")," and ",(0,r.kt)("inlineCode",{parentName:"li"},"worker.gardener.cloud/image-version")," are attached to worker nodes to identify which operating system they are running. This can then be used in selectors that target only workers with a specific operating system and is helpful for e.g. driver deployment. by @MrBatschner ","[#8295]"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"[USER]")," A new feature gate named ",(0,r.kt)("inlineCode",{parentName:"li"},"ContainerdRegistryHostsDir")," is introduced to gardenlet. When enabled, the ",(0,r.kt)("inlineCode",{parentName:"li"},"/etc/containerd/certs.d")," directory is created on the Node and containerd is configured to look up for registries/mirrors configuration in this directory (if there is any configuration applied). In future, the ",(0,r.kt)("a",{parentName:"li",href:"https://github.com/gardener/gardener-extension-registry-cache/"},"registry-cache extension")," will add such registries/mirrors configuration under this directory (via OperatingSystemConfig mutation). by @ialidzhikov ","[#8094]"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"[USER]")," The ",(0,r.kt)("inlineCode",{parentName:"li"},"Shoot")," maintenance controller now updates the CRI of worker pools from ",(0,r.kt)("inlineCode",{parentName:"li"},"docker")," to ",(0,r.kt)("inlineCode",{parentName:"li"},"containerd")," when force-upgrading from Kubernetes ",(0,r.kt)("inlineCode",{parentName:"li"},"v1.22")," to ",(0,r.kt)("inlineCode",{parentName:"li"},"v1.23"),". by @oliver-goetz ","[#8272]"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"[DEVELOPER]")," Extensions running on seed clusters can get access to the garden cluster by using the injected kubeconfig specified by the ",(0,r.kt)("inlineCode",{parentName:"li"},"GARDEN_KUBECONFIG")," environment variable. You can read about the details in this ",(0,r.kt)("a",{parentName:"li",href:"https://github.com/gardener/gardener/blob/master/docs/extensions/garden-api-access.md"},"doc"),". by @timebertt ","[#8264]")),(0,r.kt)("h2",{id:"-bug-fixes-14"},"\ud83d\udc1b Bug Fixes"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"[OPERATOR]")," When ",(0,r.kt)("inlineCode",{parentName:"li"},"Shoot"),"s were updated from non high-availability to ",(0,r.kt)("inlineCode",{parentName:"li"},"zone")," high-availability, it could happen that the control-plane was scheduled to two instead of three zones. This issue is relevant for cloud providers with an inconsistent zone naming (",(0,r.kt)("inlineCode",{parentName:"li"},"Azure")," is currently the only candidate to our knowledge).",(0,r.kt)("br",{parentName:"li"}),"Existing shoots with the before mentioned problem must be fixed manually be operators if required. An automatic move of ",(0,r.kt)("inlineCode",{parentName:"li"},"etcd"),"s and their volumes is not part of this fix due to availability reasons. by @gardener-ci-robot ","[#8345]"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"[OPERATOR]")," gardenlet: A regression causing metering related recording rules for the aggregate-prometheus not to be applied is now fixed. by @istvanballok ","[#8284]"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"[USER]")," An issue has been fixed for highly-available ",(0,r.kt)("inlineCode",{parentName:"li"},"Shoot"),"s whose ",(0,r.kt)("inlineCode",{parentName:"li"},"etcd")," clusters didn't get ready in the ",(0,r.kt)("inlineCode",{parentName:"li"},"Completing")," phase of a CA credentials rotation. by @timuthy ","[#8303]")),(0,r.kt)("h2",{id:"-others-13"},"\ud83c\udfc3 Others"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"[OPERATOR]")," A bug preventing ",(0,r.kt)("inlineCode",{parentName:"li"},"prometheus")," ingress to use ",(0,r.kt)("inlineCode",{parentName:"li"},"wildcard-certificate")," is fixed. by @acumino ","[#8319]"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"[OPERATOR]")," A bug preventing ",(0,r.kt)("inlineCode",{parentName:"li"},"plutono")," ingress to use ",(0,r.kt)("inlineCode",{parentName:"li"},"wildcard-certificate")," is fixed. by @acumino ","[#8317]"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"[OPERATOR]")," gardenlet: A regression preventing the alertmanager in the garden namespace from sending email notifications is now fixed. by @istvanballok ","[#8310]"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"[DEVELOPER]")," The ",(0,r.kt)("inlineCode",{parentName:"li"},"github.com/golang/mock/gomock")," dependency is replaced by ",(0,r.kt)("inlineCode",{parentName:"li"},"go.uber.org/mock"),". by @afritzler ","[#8269]"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"[DEVELOPER]")," Add failure tolerance option to the ",(0,r.kt)("inlineCode",{parentName:"li"},"CreateShoot")," test. by @hendrikKahl ","[#8298]")),(0,r.kt)("h1",{id:"gardeneretcd-druid-2"},"[gardener/etcd-druid]"),(0,r.kt)("h2",{id:"\ufe0f-breaking-changes-6"},"\u26a0\ufe0f Breaking Changes"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"[OPERATOR]")," \u26a0\ufe0f ",(0,r.kt)("inlineCode",{parentName:"li"},"etcd.Status.ClusterSize"),", ",(0,r.kt)("inlineCode",{parentName:"li"},"etcd.Status.ServiceName"),", ",(0,r.kt)("inlineCode",{parentName:"li"},"etcd.Status.UpdatedReplicas")," have been marked as deprecated and users should refrain from depending on these fields. by @unmarshall ","[gardener/etcd-druid#594]"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"[OPERATOR]")," File ownership for ",(0,r.kt)("inlineCode",{parentName:"li"},"var/etcd/data")," will be changed to non-root user (65532). by @aaronfern ","[gardener/etcd-druid#620]"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"[OPERATOR]")," Etcd-druid will now deploy distroless ",(0,r.kt)("inlineCode",{parentName:"li"},"etcd-wrapper")," and ",(0,r.kt)("inlineCode",{parentName:"li"},"etcd-backup-restore")," images. Please refer to ",(0,r.kt)("a",{parentName:"li",href:"https://github.com/gardener/etcd-wrapper"},"etcd-wrapper")," for more information. by @aaronfern ","[gardener/etcd-druid#620]"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"[OPERATOR]")," Etcd-related secrets will now be mounted onto the ",(0,r.kt)("inlineCode",{parentName:"li"},"/var/")," directory instead of ",(0,r.kt)("inlineCode",{parentName:"li"},"/root/"),". by @aaronfern ","[gardener/etcd-druid#620]"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"[DEVELOPER]")," Developer Action Required: The ",(0,r.kt)("inlineCode",{parentName:"li"},"make deploy")," command has been replaced with ",(0,r.kt)("inlineCode",{parentName:"li"},"make deploy-via-kustomize"),". Please update your deployment workflows accordingly. by @seshachalam-yv ","[gardener/etcd-druid#599]")),(0,r.kt)("h2",{id:"-new-features-5"},"\u2728 New Features"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"[DEVELOPER]")," Makefile has been updated to use ",(0,r.kt)("inlineCode",{parentName:"li"},"Skaffold")," for deploying ",(0,r.kt)("inlineCode",{parentName:"li"},"etcd-druid")," with the ",(0,r.kt)("inlineCode",{parentName:"li"},"make deploy")," target, simplifying the deployment process and eliminating the need to push the image to the container registry for each local development testing. by @seshachalam-yv ","[gardener/etcd-druid#599]"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"[OPERATOR]")," Feature gates have been introduced in etcd-druid, and can be specified using CLI flag ",(0,r.kt)("inlineCode",{parentName:"li"},"--feature-gate"),". by @aaronfern ","[gardener/etcd-druid#646]"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"[OPERATOR]")," Druid now exposes metrics related to snapshot compaction, on default port 8080. Please expose the desired metrics port via the etcd-druid service to allow metrics to be scraped by a Prometheus instance. by @abdasgupta ","[gardener/etcd-druid#569]"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"[OPERATOR]")," ",(0,r.kt)("inlineCode",{parentName:"li"},"UseEtcdWrapper")," feature gate has been introduced to allow users to opt for the new ",(0,r.kt)("a",{parentName:"li",href:"https://github.com/gardener/etcd-wrapper"},"etcd-wrapper")," image. by @aaronfern ","[gardener/etcd-druid#646]")),(0,r.kt)("h2",{id:"-bug-fixes-15"},"\ud83d\udc1b Bug Fixes"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"[OPERATOR]")," A bug causing incorrect volume mount path for ",(0,r.kt)("inlineCode",{parentName:"li"},"Etcd"),"s and ",(0,r.kt)("inlineCode",{parentName:"li"},"EtcdCopyBackupsTask"),"s using ",(0,r.kt)("inlineCode",{parentName:"li"},"Local")," snapshot storage provider while using distroless etcd-backup-restore image ",(0,r.kt)("inlineCode",{parentName:"li"},"v0.25.x")," has been resolved. by @aaronfern ","[gardener/etcd-druid#662]"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"[OPERATOR]")," ",(0,r.kt)("inlineCode",{parentName:"li"},"AllMembersReady")," condition has now been fixed to eventually show the correct overall readiness of an etcd cluster. by @unmarshall ","[gardener/etcd-druid#594]"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"[OPERATOR]")," A bug causing ",(0,r.kt)("inlineCode",{parentName:"li"},"EtcdCopyBackupsTask")," jobs to fail to create temp snapshot directory while using distroless etcd-backup-restore image ",(0,r.kt)("inlineCode",{parentName:"li"},"v0.25.x")," has been resolved. by @aaronfern ","[gardener/etcd-druid#662]")),(0,r.kt)("h2",{id:"-others-14"},"\ud83c\udfc3 Others"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"[OPERATOR]")," Print build version and go runtime info. by @shreyas-s-rao ","[gardener/etcd-druid#636]"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"[OPERATOR]")," Bumped up the custom image version to v3.4.13-bootstrap-11 by @abdasgupta ","[gardener/etcd-druid#623]"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"[OPERATOR]")," When scaling from single-node to multi-node etcd cluster, Etcd Druid will now first ensure that any change to the peer URL (e.g TLS enablement)  is seen by the existing etcd process running within the etcd member pod. Once that is confirmed then it will scale up the Etcd StatefulSet and add relevant annotations. by @unmarshall ","[gardener/etcd-druid#598]"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"[DEVELOPER]")," Refactored ",(0,r.kt)("inlineCode",{parentName:"li"},"statefulset"),", ",(0,r.kt)("inlineCode",{parentName:"li"},"service"),", ",(0,r.kt)("inlineCode",{parentName:"li"},"poddisruptionbudget"),", ",(0,r.kt)("inlineCode",{parentName:"li"},"lease"),", and ",(0,r.kt)("inlineCode",{parentName:"li"},"configmap")," components to use default labels and owner references from ",(0,r.kt)("inlineCode",{parentName:"li"},"etcd"),". by @seshachalam-yv ","[gardener/etcd-druid#559]"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"[DEVELOPER]")," Add CVE categorization for etcd-druid. by @shreyas-s-rao ","[gardener/etcd-druid#634]")),(0,r.kt)("h1",{id:"gardenervpn2-2"},"[gardener/vpn2]"),(0,r.kt)("h2",{id:"-noteworthy-8"},"\ud83d\udcf0 Noteworthy"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"[OPERATOR]")," Bump builder image golang from ",(0,r.kt)("inlineCode",{parentName:"li"},"1.20.4")," to ",(0,r.kt)("inlineCode",{parentName:"li"},"1.20.6"),"  by @axel7born ","[gardener/vpn2#33]")),(0,r.kt)("h1",{id:"gardenerhvpa-controller-2"},"[gardener/hvpa-controller]"),(0,r.kt)("h2",{id:"-bug-fixes-16"},"\ud83d\udc1b Bug Fixes"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"[OPERATOR]")," Fixed a bug that caused HVPA reconciliation to fail with ",(0,r.kt)("inlineCode",{parentName:"li"},"expected pointer, but got v2beta1.MetricSpec type")," when the HPA spec had changed. by @voelzmo ","[gardener/hvpa-controller#125]"))))}m.isMDXComponent=!0}}]);