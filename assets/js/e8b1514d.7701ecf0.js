"use strict";(globalThis.webpackChunkwebsite=globalThis.webpackChunkwebsite||[]).push([[20961],{28453:(e,n,s)=>{s.d(n,{R:()=>a,x:()=>o});var t=s(96540);const i={},r=t.createContext(i);function a(e){const n=t.useContext(r);return t.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function o(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:a(e.components),t.createElement(r.Provider,{value:n},e.children)}},32322:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>l,contentTitle:()=>o,default:()=>u,frontMatter:()=>a,metadata:()=>t,toc:()=>d});const t=JSON.parse('{"id":"v1.58","title":"Release Notes v1.58","description":"Upstream Changes","source":"@site/release-notes/v1.58.md","sourceDirName":".","slug":"/v1.58","permalink":"/release-notes/v1.58","draft":false,"unlisted":false,"tags":[],"version":"current","sidebarPosition":1,"frontMatter":{"sidebar_position":1,"id":"v1.58"},"sidebar":"tutorialSidebar","previous":{"title":"Release Notes v1.59","permalink":"/release-notes/v1.59"}}');var i=s(74848),r=s(28453);const a={sidebar_position:1,id:"v1.58"},o="Release Notes v1.58",l={},d=[{value:"Upstream Changes",id:"upstream-changes",level:2},{value:"23KE Changes and Upgrade Path",id:"23ke-changes-and-upgrade-path",level:2}];function c(e){const n={a:"a",code:"code",h1:"h1",h2:"h2",header:"header",li:"li",p:"p",pre:"pre",ul:"ul",...(0,r.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.header,{children:(0,i.jsx)(n.h1,{id:"release-notes-v158",children:"Release Notes v1.58"})}),"\n",(0,i.jsx)(n.h2,{id:"upstream-changes",children:"Upstream Changes"}),"\n",(0,i.jsx)(n.p,{children:"Please check the following sites for upstream release notes:"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"https://github.com/gardener/gardener/releases",children:"Gardener releases"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"https://github.com/gardener-community/gardener-charts/releases",children:"Gardener-community charts releases"})}),"\n"]}),"\n",(0,i.jsx)(n.h2,{id:"23ke-changes-and-upgrade-path",children:"23KE Changes and Upgrade Path"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:"Before update"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"ingress-nginx now ships as part of 23ke with a required custom configuration for certificate management. This is the only supported ingress from now, and will be updated with future 23ke versions. Remove other ingress-nginx installations before updating."}),"\n",(0,i.jsx)(n.li,{children:"cert-manager now ships as part of 23ke and will also be updated with future 23ke versions. Remove other cert-manager installations before updating."}),"\n",(0,i.jsx)(n.li,{children:"gardeners external-dns-management component now ships as part of 23ke and creates/updates DNS records with the right Ingress/Service IP. If installed, remove external-dns before updating"}),"\n",(0,i.jsx)(n.li,{children:"Create new 23ke-config secret"}),"\n",(0,i.jsx)(n.li,{children:"The 23ke installation has been restructured. Before updating, suspend both 23ke-base-config and 23ke-base-install Kustomizations."}),"\n",(0,i.jsxs)(n.li,{children:['The default subdomain for the gardenlet seedConfig.spec.dns.ingressDomain has been set to "internal". This field is immutable for existing seeds, so to continue using your existing ingressDomain you need to add\n',(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-yaml",children:"apiVersion: v1\nkind: Secret\nmetadata:\n name: 23ke-config\n namespace: flux-system\ntype: Opaque\nstringData:\n   values.yaml: |\n   ...\n\tgardenlet.ingressDomain: ingress\n   ...\n"})}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:"After the update"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"flux now ships as part of 23ke and will also be updated with future 23ke versions. You can remove an existing gotk-componentes.yaml from your env config."}),"\n",(0,i.jsxs)(n.li,{children:["cert-manager is no longer used for letsencrypt. You can remove the default-issuer ClusterIssuer from your 23ke-config folder.\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["Remove all environment variables and postBuild/env substitution from your 23ke-config, if you do not need them anymore. If you find no more environment variables in your 23ke-config, you can delete the ",(0,i.jsx)(n.code,{children:"23ke-env-substitution"})," ",(0,i.jsx)(n.code,{children:"Secret"})]}),"\n",(0,i.jsxs)(n.li,{children:["Delete all old base-config ",(0,i.jsx)(n.code,{children:"ConfigMaps"}),", and delete 23ke-base-config and 23ke-base-install Kustomization. Adjust the ",(0,i.jsx)(n.code,{children:"dependsOn"})," for your own Kustomizations like 23ke-env-garden-content."]}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-shell",children:"kubectl delete kustomization 23ke-base-config\nkubectl delete kustomization 23ke-base-install\nkubectl delete configmap -A -l kustomize.toolkit.fluxcd.io/name=23ke-base-config\n"})}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:"Other changes"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"gardeners cert-management component now ships as part of 23ke."}),"\n"]}),"\n"]}),"\n"]})]})}function u(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(c,{...e})}):c(e)}}}]);