apiVersion: v1
kind: ConfigMap
metadata:
  creationTimestamp: null
  name: gardenlet-base-values
  namespace: flux-system
data:
  values.yaml: |-
    global:
      token:
        id: {{ .Values.gardenlet.bootstrapToken.id }}
        secret: {{ .Values.gardenlet.bootstrapToken.secret }}
      gardenlet:
        config:
          seedConfig:
            spec:
              dns:
                ingressDomain: >-
                  {{- (print .Values.gardenlet.ingressDomain "." .Values.domains.global.domain) | nindent 18 }}
          gardenClientConnection:
            gardenClusterAddress: https://api.{{ .Values.domains.global.domain }}:443
            bootstrapKubeconfig:
              secretRef:
                name: gardenlet-kubeconfig-bootstrap
                namespace: flux-system
            kubeconfigSecret:
              name: gardenlet-kubeconfig
              namespace: garden
          featureGates:
            ManagedIstio: true
