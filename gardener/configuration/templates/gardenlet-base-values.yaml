apiVersion: v1
kind: ConfigMap
metadata:
  creationTimestamp: null
  name: gardenlet-base-values
  namespace: flux-system
data:
  values.yaml: |-
    global:
      token:
        id: {{ .Values.tokenId }}
        secret: {{ .Values.tokenSecret }}
      gardenlet:
        config:
          seedConfig:
            spec:
              dns:
                ingressDomain: >-
                  {{- (print .Values.gardenletIngress "." .Values.baseDomain) | nindent 18 }}
          gardenClientConnection:
            gardenClusterAddress: https://api.{{ .Values.baseDomain }}:443
            bootstrapKubeconfig:
              secretRef:
                name: gardenlet-kubeconfig-bootstrap
                namespace: flux-system
            kubeconfigSecret:
              name: gardenlet-kubeconfig
              namespace: garden
          featureGates:
            ManagedIstio: true
