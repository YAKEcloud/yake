# [gardener-extension-provider-azure]
## âš ï¸ Breaking Changes
* *[USER]* Provider-azure now deploys a new default `volumesnapshotclass`. ([gardener/gardener-extension-provider-azure#468](https://github.com/gardener/gardener-extension-provider-azure/pull/468), [@rakesh-garimella](https://github.com/rakesh-garimella))
## âœ¨ New Features
* *[USER]* You can now configure if the deployed `storageclass` and `volumesnapshotclass` are marked as default. ([gardener/gardener-extension-provider-azure#468](https://github.com/gardener/gardener-extension-provider-azure/pull/468), [@rakesh-garimella](https://github.com/rakesh-garimella))
* *[OPERATOR]* `csi-driver-node` is annotated with the `wait-for-csi-node` annotation. Gardener uses this to only schedule workload pods to a `Node` once the driver has been successfully registered with the `CSINode` object. ([gardener/gardener-extension-provider-azure#643](https://github.com/gardener/gardener-extension-provider-azure/pull/643), [@SimonKienzler](https://github.com/SimonKienzler))
* *[OPERATOR]* The `csi-snapshot-validation` Service deployed by the provider-azure extension can now be topology-aware (depending on the Seed setting and the Shoot HA failure tolerance type). For more details, see the [Topology-aware Traffic Routing documentation](https://github.com/gardener/gardener/blob/v1.66.0/docs/usage/topology_aware_routing.md). ([gardener/gardener-extension-provider-azure#649](https://github.com/gardener/gardener-extension-provider-azure/pull/649), [@ialidzhikov](https://github.com/ialidzhikov))
## ðŸ› Bug Fixes
* *[OPERATOR]* The stale healthcheck conditions from the extension are now properly cleaned up. ([gardener/gardener-extension-provider-azure#650](https://github.com/gardener/gardener-extension-provider-azure/pull/650), [@acumino](https://github.com/acumino))
* *[OPERATOR]* An issue has been fixed which caused undesired `PATCH` requests when updating the state in the `Worker` or `ShootState` resources. ([gardener/gardener-extension-provider-azure#655](https://github.com/gardener/gardener-extension-provider-azure/pull/655), [@oliver-goetz](https://github.com/oliver-goetz))
* *[OPERATOR]* An issue causing Azure-related errors not getting categorized properly is now fixed. ([gardener/gardener-extension-provider-azure#661](https://github.com/gardener/gardener-extension-provider-azure/pull/661), [@acumino](https://github.com/acumino))
* *[OPERATOR]* An issue causing provider-azure to wrongly delete the `extensions.gardener.cloud:provider-azure:csi-snapshot-validation` ClusterRole and ClusterRoleBinding from the Seed cluster on every Shoot deletion is now fixed. ([gardener/gardener-extension-provider-azure#664](https://github.com/gardener/gardener-extension-provider-azure/pull/664), [@ialidzhikov](https://github.com/ialidzhikov))
## ðŸƒ Others
* *[OPERATOR]* Adapted extension components to support the [FullNetworkPoliciesInRuntimeCluster](https://github.com/gardener/gardener/blob/master/docs/deployment/feature_gates.md#list-of-feature-gates) feature gate introduced by `gardener/gardener` v1.66, see [here](https://github.com/gardener/gardener/blob/master/docs/concepts/resource-manager.md#networkpolicy-controller) and [#7352](https://github.com/gardener/gardener/pull/7589) for more information. ([gardener/gardener-extension-provider-azure#642](https://github.com/gardener/gardener-extension-provider-azure/pull/642), [@oliver-goetz](https://github.com/oliver-goetz))
* *[OPERATOR]* Update cloud-controller-manager `v1.23.25 -> v1.23.30` ([gardener/gardener-extension-provider-azure#648](https://github.com/gardener/gardener-extension-provider-azure/pull/648), [@kon-angelo](https://github.com/kon-angelo))
* *[OPERATOR]* Update cloud-controller-manager `v1.24.12 -> v1.24.17` ([gardener/gardener-extension-provider-azure#648](https://github.com/gardener/gardener-extension-provider-azure/pull/648), [@kon-angelo](https://github.com/kon-angelo))
* *[OPERATOR]* Update cloud-controller-manager `v1.25.6 -> v1.25.11` ([gardener/gardener-extension-provider-azure#648](https://github.com/gardener/gardener-extension-provider-azure/pull/648), [@kon-angelo](https://github.com/kon-angelo))
* *[OPERATOR]* Update cloud-controller-manager `v1.26.2 -> v1.26.7` ([gardener/gardener-extension-provider-azure#648](https://github.com/gardener/gardener-extension-provider-azure/pull/648), [@kon-angelo](https://github.com/kon-angelo))
* *[OPERATOR]* Update azuredisk-csi `v1.25.0 -> v1.27.0` ([gardener/gardener-extension-provider-azure#648](https://github.com/gardener/gardener-extension-provider-azure/pull/648), [@kon-angelo](https://github.com/kon-angelo))
* *[OPERATOR]* Update azurefile-csi `v1.21.0 -> v1.26.1` ([gardener/gardener-extension-provider-azure#648](https://github.com/gardener/gardener-extension-provider-azure/pull/648), [@kon-angelo](https://github.com/kon-angelo))
* *[OPERATOR]* The `gardener-extension-admission-azure` Service in the `gardener-extension-admission-azure` chart can now be configured to be topology-aware. ([gardener/gardener-extension-provider-azure#657](https://github.com/gardener/gardener-extension-provider-azure/pull/657), [@ialidzhikov](https://github.com/ialidzhikov))
* *[OPERATOR]* `github.com/kubernetes-sigs/azuredisk-csi-driver` updated to `v1.27.1` ([gardener/gardener-extension-provider-azure#658](https://github.com/gardener/gardener-extension-provider-azure/pull/658), [@kon-angelo](https://github.com/kon-angelo))
* *[DEVELOPER]* Update to Go `1.19.7`. ([gardener/gardener-extension-provider-azure#641](https://github.com/gardener/gardener-extension-provider-azure/pull/641), [@oliver-goetz](https://github.com/oliver-goetz))
# [terraformer]
## ðŸƒ Others
* *[OPERATOR]* Update TF_VERSION `0.15.5` -> `1.3.9` and update how the local providers are fetched and stored to be compatible with the latest TF specification. ([gardener/terraformer#133](https://github.com/gardener/terraformer/pull/133), [@kon-angelo](https://github.com/kon-angelo))